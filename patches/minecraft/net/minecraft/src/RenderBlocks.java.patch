--- a/minecraft/net/minecraft/src/RenderBlocks.java
+++ b/minecraft/net/minecraft/src/RenderBlocks.java
@@ -1,5 +1,11 @@
 package net.minecraft.src;
 
+import com.prupe.mcpatcher.cc.ColorizeBlock;
+import com.prupe.mcpatcher.cc.Colorizer;
+import com.prupe.mcpatcher.ctm.CTMUtils;
+import com.prupe.mcpatcher.ctm.GlassPaneRenderer;
+import com.prupe.mcpatcher.mal.block.RenderBlocksUtils;
+import com.prupe.mcpatcher.renderpass.RenderPass;
 import net.minecraft.client.Minecraft;
 import org.lwjgl.opengl.GL11;
 import org.lwjgl.opengl.GL12;
@@ -235,40 +241,40 @@
     private int brightnessTopRight;
 
     /** Red color value for the top left corner */
-    private float colorRedTopLeft;
+    public float colorRedTopLeft;
 
     /** Red color value for the bottom left corner */
-    private float colorRedBottomLeft;
+    public float colorRedBottomLeft;
 
     /** Red color value for the bottom right corner */
-    private float colorRedBottomRight;
+    public float colorRedBottomRight;
 
     /** Red color value for the top right corner */
-    private float colorRedTopRight;
+    public float colorRedTopRight;
 
     /** Green color value for the top left corner */
-    private float colorGreenTopLeft;
+    public float colorGreenTopLeft;
 
     /** Green color value for the bottom left corner */
-    private float colorGreenBottomLeft;
+    public float colorGreenBottomLeft;
 
     /** Green color value for the bottom right corner */
-    private float colorGreenBottomRight;
+    public float colorGreenBottomRight;
 
     /** Green color value for the top right corner */
-    private float colorGreenTopRight;
+    public float colorGreenTopRight;
 
     /** Blue color value for the top left corner */
-    private float colorBlueTopLeft;
+    public float colorBlueTopLeft;
 
     /** Blue color value for the bottom left corner */
-    private float colorBlueBottomLeft;
+    public float colorBlueBottomLeft;
 
     /** Blue color value for the bottom right corner */
-    private float colorBlueBottomRight;
+    public float colorBlueBottomRight;
 
     /** Blue color value for the top right corner */
-    private float colorBlueTopRight;
+    public float colorBlueTopRight;
 
     public RenderBlocks(IBlockAccess par1IBlockAccess)
     {
@@ -326,12 +332,24 @@
     {
         if (!this.lockBlockBounds)
         {
-            this.renderMinX = par1Block.getBlockBoundsMinX();
-            this.renderMaxX = par1Block.getBlockBoundsMaxX();
-            this.renderMinY = par1Block.getBlockBoundsMinY();
-            this.renderMaxY = par1Block.getBlockBoundsMaxY();
-            this.renderMinZ = par1Block.getBlockBoundsMinZ();
-            this.renderMaxZ = par1Block.getBlockBoundsMaxZ();
+        	// FCMOD: Changed
+            //this.renderMinX = par1Block.getBlockBoundsMinX();
+            //this.renderMaxX = par1Block.getBlockBoundsMaxX();
+            //this.renderMinY = par1Block.getBlockBoundsMinY();
+            //this.renderMaxY = par1Block.getBlockBoundsMaxY();
+            //this.renderMinZ = par1Block.getBlockBoundsMinZ();
+            //this.renderMaxZ = par1Block.getBlockBoundsMaxZ();
+        	AxisAlignedBB blockBounds = par1Block.GetFixedBlockBoundsFromPool();
+        	
+            renderMinX = blockBounds.minX;
+            renderMinY = blockBounds.minY;
+            renderMinZ = blockBounds.minZ;
+            	
+            renderMaxX = blockBounds.maxX;
+            renderMaxY = blockBounds.maxY;
+            renderMaxZ = blockBounds.maxZ;
+            // END FCMOD
+            
             this.partialRenderBounds = this.minecraftRB.gameSettings.ambientOcclusion >= 2 && (this.renderMinX > 0.0D || this.renderMaxX < 1.0D || this.renderMinY > 0.0D || this.renderMaxY < 1.0D || this.renderMinZ > 0.0D || this.renderMaxZ < 1.0D);
         }
     }
@@ -383,6 +401,8 @@
     /**
      * Renders the block at the given coordinates using the block's rendering type
      */
+    // FCMOD: Code removed and replaced later
+    /*
     public boolean renderBlockByRenderType(Block par1Block, int par2, int par3, int par4)
     {
         int var5 = par1Block.getRenderType();
@@ -398,6 +418,8 @@
             return var5 == 0 ? this.renderStandardBlock(par1Block, par2, par3, par4) : (var5 == 4 ? this.renderBlockFluids(par1Block, par2, par3, par4) : (var5 == 31 ? this.renderBlockLog(par1Block, par2, par3, par4) : (var5 == 1 ? this.renderCrossedSquares(par1Block, par2, par3, par4) : (var5 == 2 ? this.renderBlockTorch(par1Block, par2, par3, par4) : (var5 == 20 ? this.renderBlockVine(par1Block, par2, par3, par4) : (var5 == 11 ? this.renderBlockFence((BlockFence)par1Block, par2, par3, par4) : (var5 == 39 ? this.renderBlockQuartz(par1Block, par2, par3, par4) : (var5 == 5 ? this.renderBlockRedstoneWire(par1Block, par2, par3, par4) : (var5 == 13 ? this.renderBlockCactus(par1Block, par2, par3, par4) : (var5 == 9 ? this.renderBlockMinecartTrack((BlockRailBase)par1Block, par2, par3, par4) : (var5 == 19 ? this.renderBlockStem(par1Block, par2, par3, par4) : (var5 == 23 ? this.renderBlockLilyPad(par1Block, par2, par3, par4) : (var5 == 6 ? this.renderBlockCrops(par1Block, par2, par3, par4) : (var5 == 3 ? this.renderBlockFire((BlockFire)par1Block, par2, par3, par4) : (var5 == 8 ? this.renderBlockLadder(par1Block, par2, par3, par4) : (var5 == 7 ? this.renderBlockDoor(par1Block, par2, par3, par4) : (var5 == 10 ? this.renderBlockStairs((BlockStairs)par1Block, par2, par3, par4) : (var5 == 27 ? this.renderBlockDragonEgg((BlockDragonEgg)par1Block, par2, par3, par4) : (var5 == 32 ? this.renderBlockWall((BlockWall)par1Block, par2, par3, par4) : (var5 == 12 ? this.renderBlockLever(par1Block, par2, par3, par4) : (var5 == 29 ? this.renderBlockTripWireSource(par1Block, par2, par3, par4) : (var5 == 30 ? this.renderBlockTripWire(par1Block, par2, par3, par4) : (var5 == 14 ? this.renderBlockBed(par1Block, par2, par3, par4) : (var5 == 15 ? this.renderBlockRepeater((BlockRedstoneRepeater)par1Block, par2, par3, par4) : (var5 == 36 ? this.renderBlockRedstoneLogic((BlockRedstoneLogic)par1Block, par2, par3, par4) : (var5 == 37 ? this.renderBlockComparator((BlockComparator)par1Block, par2, par3, par4) : (var5 == 16 ? this.renderPistonBase(par1Block, par2, par3, par4, false) : (var5 == 17 ? this.renderPistonExtension(par1Block, par2, par3, par4, true) : (var5 == 18 ? this.renderBlockPane((BlockPane)par1Block, par2, par3, par4) : (var5 == 21 ? this.renderBlockFenceGate((BlockFenceGate)par1Block, par2, par3, par4) : (var5 == 24 ? this.renderBlockCauldron((BlockCauldron)par1Block, par2, par3, par4) : (var5 == 33 ? this.renderBlockFlowerpot((BlockFlowerPot)par1Block, par2, par3, par4) : (var5 == 35 ? this.renderBlockAnvil((BlockAnvil)par1Block, par2, par3, par4) : (var5 == 25 ? this.renderBlockBrewingStand((BlockBrewingStand)par1Block, par2, par3, par4) : (var5 == 26 ? this.renderBlockEndPortalFrame((BlockEndPortalFrame)par1Block, par2, par3, par4) : (var5 == 28 ? this.renderBlockCocoa((BlockCocoa)par1Block, par2, par3, par4) : (var5 == 34 ? this.renderBlockBeacon((BlockBeacon)par1Block, par2, par3, par4) : (var5 == 38 ? this.renderBlockHopper((BlockHopper)par1Block, par2, par3, par4) : false))))))))))))))))))))))))))))))))))))));
         }
     }
+    */
+    // END FCMOD
 
     /**
      * Render BlockEndPortalFrame
@@ -549,7 +571,7 @@
                 var63 = 2;
         }
 
-        if (var62 != 2 && (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 - 1, 2)))
+        if (var62 != 2 && (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 - 1, 2)))
         {
             var5.setBrightness(this.renderMinZ > 0.0D ? var25 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 - 1));
             var5.setColorOpaque_F(var11, var11, var11);
@@ -557,7 +579,7 @@
             this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 2));
         }
 
-        if (var62 != 3 && (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 + 1, 3)))
+        if (var62 != 3 && (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 + 1, 3)))
         {
             var5.setBrightness(this.renderMaxZ < 1.0D ? var25 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 + 1));
             var5.setColorOpaque_F(var11, var11, var11);
@@ -565,7 +587,7 @@
             this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 3));
         }
 
-        if (var62 != 4 && (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 - 1, par3, par4, 4)))
+        if (var62 != 4 && (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 - 1, par3, par4, 4)))
         {
             var5.setBrightness(this.renderMinZ > 0.0D ? var25 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4));
             var5.setColorOpaque_F(var12, var12, var12);
@@ -573,7 +595,7 @@
             this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 4));
         }
 
-        if (var62 != 5 && (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 + 1, par3, par4, 5)))
+        if (var62 != 5 && (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 + 1, par3, par4, 5)))
         {
             var5.setBrightness(this.renderMaxZ < 1.0D ? var25 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4));
             var5.setColorOpaque_F(var12, var12, var12);
@@ -608,6 +630,8 @@
         float var9 = (float)(var7 >> 8 & 255) / 255.0F;
         float var10 = (float)(var7 & 255) / 255.0F;
 
+        // FCMOD: Code removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             float var11 = (var8 * 30.0F + var9 * 59.0F + var10 * 11.0F) / 100.0F;
@@ -617,9 +641,11 @@
             var9 = var12;
             var10 = var13;
         }
+        */
+        // END FCMOD
 
         var5.setColorOpaque_F(var6 * var8, var6 * var9, var6 * var10);
-        Icon var32 = this.getBlockIconFromSideAndMetadata(par1BlockBrewingStand, 0, 0);
+        Icon var32 = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockBrewingStand, 0, 0) : this.getBlockIcon(par1BlockBrewingStand, this.blockAccess, par2, par3, par4, 0);
 
         if (this.hasOverrideBlockTexture())
         {
@@ -655,14 +681,21 @@
             var5.addVertexWithUV(var24, (double)(par3 + 1), var28, var20, var33);
         }
 
-        par1BlockBrewingStand.setBlockBoundsForItemRender();
+        // FCMOD: Removed
+        //par1BlockBrewingStand.setBlockBoundsForItemRender();
+        // END FCMOD
         return true;
     }
 
     /**
      * Render block cauldron
      */
+    // FCMOD: Changed to public
+    /*
     private boolean renderBlockCauldron(BlockCauldron par1BlockCauldron, int par2, int par3, int par4)
+    */
+    public boolean renderBlockCauldron(BlockCauldron par1BlockCauldron, int par2, int par3, int par4)
+    // END FCMOD
     {
         this.renderStandardBlock(par1BlockCauldron, par2, par3, par4);
         Tessellator var5 = Tessellator.instance;
@@ -674,6 +707,8 @@
         float var10 = (float)(var7 & 255) / 255.0F;
         float var12;
 
+        // FCMOD: Code removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             float var11 = (var8 * 30.0F + var9 * 59.0F + var10 * 11.0F) / 100.0F;
@@ -683,10 +718,17 @@
             var9 = var12;
             var10 = var13;
         }
+        */
+        // END FCMOD
 
         var5.setColorOpaque_F(var6 * var8, var6 * var9, var6 * var10);
         Icon var16 = par1BlockCauldron.getBlockTextureFromSide(2);
-        var12 = 0.125F;
+        ColorizeBlock.computeWaterColor();
+        var5.setColorOpaque_F(Colorizer.setColor[0], Colorizer.setColor[1], Colorizer.setColor[2]);
+        // FCMOD: Changed to eliminate visual gaps around edge
+        //var12 = 0.125F;
+        var12 = 0.124F;
+        // END FCMOD
         this.renderFaceXPos(par1BlockCauldron, (double)((float)par2 - 1.0F + var12), (double)par3, (double)par4, var16);
         this.renderFaceXNeg(par1BlockCauldron, (double)((float)par2 + 1.0F - var12), (double)par3, (double)par4, var16);
         this.renderFaceZPos(par1BlockCauldron, (double)par2, (double)par3, (double)((float)par4 - 1.0F + var12), var16);
@@ -721,13 +763,15 @@
         var5.setBrightness(par1BlockFlowerPot.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4));
         float var6 = 1.0F;
         int var7 = par1BlockFlowerPot.colorMultiplier(this.blockAccess, par2, par3, par4);
-        Icon var8 = this.getBlockIconFromSide(par1BlockFlowerPot, 0);
+        Icon var8 = this.blockAccess == null ? this.getBlockIconFromSide(par1BlockFlowerPot, 0) : this.getBlockIcon(par1BlockFlowerPot, this.blockAccess, par2, par3, par4, 0);
         float var9 = (float)(var7 >> 16 & 255) / 255.0F;
         float var10 = (float)(var7 >> 8 & 255) / 255.0F;
         float var11 = (float)(var7 & 255) / 255.0F;
         float var12;
         float var14;
 
+        // FCMOD: Code removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             var12 = (var9 * 30.0F + var10 * 59.0F + var11 * 11.0F) / 100.0F;
@@ -737,6 +781,8 @@
             var10 = var13;
             var11 = var14;
         }
+        */
+        // END FCMOD
 
         var5.setColorOpaque_F(var6 * var9, var6 * var10, var6 * var11);
         var12 = 0.1865F;
@@ -854,6 +900,8 @@
         float var10 = (float)(var8 >> 8 & 255) / 255.0F;
         float var11 = (float)(var8 & 255) / 255.0F;
 
+        // FCMOD: Code removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             float var12 = (var9 * 30.0F + var10 * 59.0F + var11 * 11.0F) / 100.0F;
@@ -863,6 +911,8 @@
             var10 = var13;
             var11 = var14;
         }
+        */
+        // END FCMOD
 
         var6.setColorOpaque_F(var7 * var9, var7 * var10, var7 * var11);
         return this.renderBlockAnvilOrient(par1BlockAnvil, par2, par3, par4, par5, false);
@@ -943,27 +993,27 @@
             Tessellator var14 = Tessellator.instance;
             var14.startDrawingQuads();
             var14.setNormal(0.0F, -1.0F, 0.0F);
-            this.renderFaceYNeg(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 0, par12));
+            this.renderFaceYNeg(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 0, par12) : this.getBlockIcon(par1BlockAnvil, this.blockAccess, par2, par3, par4, 0));
             var14.draw();
             var14.startDrawingQuads();
             var14.setNormal(0.0F, 1.0F, 0.0F);
-            this.renderFaceYPos(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 1, par12));
+            this.renderFaceYPos(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 1, par12) : this.getBlockIcon(par1BlockAnvil, this.blockAccess, par2, par3, par4, 1));
             var14.draw();
             var14.startDrawingQuads();
             var14.setNormal(0.0F, 0.0F, -1.0F);
-            this.renderFaceZNeg(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 2, par12));
+            this.renderFaceZNeg(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 2, par12) : this.getBlockIcon(par1BlockAnvil, this.blockAccess, par2, par3, par4, 2));
             var14.draw();
             var14.startDrawingQuads();
             var14.setNormal(0.0F, 0.0F, 1.0F);
-            this.renderFaceZPos(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 3, par12));
+            this.renderFaceZPos(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 3, par12) : this.getBlockIcon(par1BlockAnvil, this.blockAccess, par2, par3, par4, 3));
             var14.draw();
             var14.startDrawingQuads();
             var14.setNormal(-1.0F, 0.0F, 0.0F);
-            this.renderFaceXNeg(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 4, par12));
+            this.renderFaceXNeg(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 4, par12) : this.getBlockIcon(par1BlockAnvil, this.blockAccess, par2, par3, par4, 4));
             var14.draw();
             var14.startDrawingQuads();
             var14.setNormal(1.0F, 0.0F, 0.0F);
-            this.renderFaceXPos(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 5, par12));
+            this.renderFaceXPos(par1BlockAnvil, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockAnvil, 5, par12) : this.getBlockIcon(par1BlockAnvil, this.blockAccess, par2, par3, par4, 5));
             var14.draw();
         }
         else
@@ -979,7 +1029,11 @@
      */
     public boolean renderBlockTorch(Block par1Block, int par2, int par3, int par4)
     {
-        int var5 = this.blockAccess.getBlockMetadata(par2, par3, par4);
+    	// FCMOD: Changed
+        //int var5 = this.blockAccess.getBlockMetadata(par2, par3, par4);
+        int iMetadata = blockAccess.getBlockMetadata(par2, par3, par4);
+        int var5 = FCBlockTorchBase.GetOrientation( iMetadata );
+    	// END FCMOD
         Tessellator var6 = Tessellator.instance;
         var6.setBrightness(par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4));
         var6.setColorOpaque_F(1.0F, 1.0F, 1.0F);
@@ -989,23 +1043,38 @@
 
         if (var5 == 1)
         {
-            this.renderTorchAtAngle(par1Block, (double)par2 - var9, (double)par3 + var11, (double)par4, -var7, 0.0D, 0);
+        	// FCMOD: Changed
+            //this.renderTorchAtAngle(par1Block, (double)par2 - var9, (double)par3 + var11, (double)par4, -var7, 0.0D, 0);
+            this.renderTorchAtAngle(par1Block, (double)par2 - var9, (double)par3 + var11, (double)par4, -var7, 0.0D, iMetadata);
+            /// END FCMOD
         }
         else if (var5 == 2)
         {
-            this.renderTorchAtAngle(par1Block, (double)par2 + var9, (double)par3 + var11, (double)par4, var7, 0.0D, 0);
+        	// FCMOD: Changed
+            //this.renderTorchAtAngle(par1Block, (double)par2 + var9, (double)par3 + var11, (double)par4, var7, 0.0D, 0);
+            this.renderTorchAtAngle(par1Block, (double)par2 + var9, (double)par3 + var11, (double)par4, var7, 0.0D, iMetadata);
+            /// END FCMOD
         }
         else if (var5 == 3)
         {
-            this.renderTorchAtAngle(par1Block, (double)par2, (double)par3 + var11, (double)par4 - var9, 0.0D, -var7, 0);
+        	// FCMOD: Changed
+            //this.renderTorchAtAngle(par1Block, (double)par2, (double)par3 + var11, (double)par4 - var9, 0.0D, -var7, 0);
+            this.renderTorchAtAngle(par1Block, (double)par2, (double)par3 + var11, (double)par4 - var9, 0.0D, -var7, iMetadata);
+            /// END FCMOD
         }
         else if (var5 == 4)
         {
-            this.renderTorchAtAngle(par1Block, (double)par2, (double)par3 + var11, (double)par4 + var9, 0.0D, var7, 0);
+        	// FCMOD: Changed
+            //this.renderTorchAtAngle(par1Block, (double)par2, (double)par3 + var11, (double)par4 + var9, 0.0D, var7, 0);
+            this.renderTorchAtAngle(par1Block, (double)par2, (double)par3 + var11, (double)par4 + var9, 0.0D, var7, iMetadata);
+            /// END FCMOD
         }
         else
         {
-            this.renderTorchAtAngle(par1Block, (double)par2, (double)par3, (double)par4, 0.0D, 0.0D, 0);
+        	// FCMOD: Changed
+            //this.renderTorchAtAngle(par1Block, (double)par2, (double)par3, (double)par4, 0.0D, 0.0D, 0);
+            this.renderTorchAtAngle(par1Block, (double)par2, (double)par3, (double)par4, 0.0D, 0.0D, iMetadata);
+            /// END FCMOD
         }
 
         return true;
@@ -1014,7 +1083,12 @@
     /**
      * render a redstone repeater at the given coordinates
      */
+    // FCMOD: Changed to public
+    /*
     private boolean renderBlockRepeater(BlockRedstoneRepeater par1BlockRedstoneRepeater, int par2, int par3, int par4)
+    */
+    public boolean renderBlockRepeater(BlockRedstoneRepeater par1BlockRedstoneRepeater, int par2, int par3, int par4)
+    // END FCMOD
     {
         int var5 = this.blockAccess.getBlockMetadata(par2, par3, par4);
         int var6 = var5 & 3;
@@ -1160,14 +1234,19 @@
         return true;
     }
 
+    // FCMOD: Changed to public
+    /*
     private void renderBlockRedstoneLogicMetadata(BlockRedstoneLogic par1BlockRedstoneLogic, int par2, int par3, int par4, int par5)
+    */
+    public void renderBlockRedstoneLogicMetadata(BlockRedstoneLogic par1BlockRedstoneLogic, int par2, int par3, int par4, int par5)
+    // END FCMOD
     {
         this.renderStandardBlock(par1BlockRedstoneLogic, par2, par3, par4);
         Tessellator var6 = Tessellator.instance;
         var6.setBrightness(par1BlockRedstoneLogic.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4));
         var6.setColorOpaque_F(1.0F, 1.0F, 1.0F);
         int var7 = this.blockAccess.getBlockMetadata(par2, par3, par4);
-        Icon var8 = this.getBlockIconFromSideAndMetadata(par1BlockRedstoneLogic, 1, var7);
+        Icon var8 = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockRedstoneLogic, 1, var7) : this.getBlockIcon(par1BlockRedstoneLogic, this.blockAccess, par2, par3, par4, 1);
         double var9 = (double)var8.getMinU();
         double var11 = (double)var8.getMaxU();
         double var13 = (double)var8.getMinV();
@@ -1224,7 +1303,12 @@
     /**
      * renders a block as a piston base
      */
+    // FCMOD: Changed to public
+    /*
     private boolean renderPistonBase(Block par1Block, int par2, int par3, int par4, boolean par5)
+    */
+    public boolean renderPistonBase(Block par1Block, int par2, int par3, int par4, boolean par5)
+    // END FCMOD
     {
         int var6 = this.blockAccess.getBlockMetadata(par2, par3, par4);
         boolean var7 = par5 || (var6 & 8) != 0;
@@ -1276,7 +1360,10 @@
                     this.setRenderBounds(0.0D, 0.0D, 0.0D, 0.75D, 1.0D, 1.0D);
             }
 
-            ((BlockPistonBase)par1Block).func_96479_b((float)this.renderMinX, (float)this.renderMinY, (float)this.renderMinZ, (float)this.renderMaxX, (float)this.renderMaxY, (float)this.renderMaxZ);
+            // FCMOD: Changed
+            //((BlockPistonBase)par1Block).func_96479_b((float)this.renderMinX, (float)this.renderMinY, (float)this.renderMinZ, (float)this.renderMaxX, (float)this.renderMaxY, (float)this.renderMaxZ);
+            FCBlockPistonBase.m_bIsRenderingExtendedBase = true;
+            // END FCMOD
             this.renderStandardBlock(par1Block, par2, par3, par4);
             this.uvRotateEast = 0;
             this.uvRotateWest = 0;
@@ -1285,7 +1372,10 @@
             this.uvRotateTop = 0;
             this.uvRotateBottom = 0;
             this.setRenderBounds(0.0D, 0.0D, 0.0D, 1.0D, 1.0D, 1.0D);
-            ((BlockPistonBase)par1Block).func_96479_b((float)this.renderMinX, (float)this.renderMinY, (float)this.renderMinZ, (float)this.renderMaxX, (float)this.renderMaxY, (float)this.renderMaxZ);
+            // FCMOD: Changed
+            //((BlockPistonBase)par1Block).func_96479_b((float)this.renderMinX, (float)this.renderMinY, (float)this.renderMinZ, (float)this.renderMaxX, (float)this.renderMaxY, (float)this.renderMaxZ);
+            FCBlockPistonBase.m_bIsRenderingExtendedBase = false;
+            // END FCMOD
         }
         else
         {
@@ -1424,7 +1514,12 @@
     /**
      * renders the pushing part of a piston
      */
+    // FCMOD: Changed to public
+    /*
     private boolean renderPistonExtension(Block par1Block, int par2, int par3, int par4, boolean par5)
+    */
+    public boolean renderPistonExtension(Block par1Block, int par2, int par3, int par4, boolean par5)
+    // END FCMOD
     {
         int var6 = this.blockAccess.getBlockMetadata(par2, par3, par4);
         int var7 = BlockPistonExtension.getDirectionMeta(var6);
@@ -1585,7 +1680,7 @@
         }
 
         var8.setColorOpaque_F(var13, var13, var13);
-        Icon var14 = this.getBlockIconFromSide(par1Block, 0);
+        Icon var14 = this.blockAccess == null ? this.getBlockIconFromSide(par1Block, 0) : this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0);
 
         if (this.hasOverrideBlockTexture())
         {
@@ -1806,7 +1901,7 @@
         }
 
         var5.setColorOpaque_F(var17, var17, var17);
-        Icon var18 = this.getBlockIconFromSide(par1Block, 0);
+        Icon var18 = this.blockAccess == null ? this.getBlockIconFromSide(par1Block, 0) : this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0);
 
         if (this.hasOverrideBlockTexture())
         {
@@ -2003,7 +2098,7 @@
             var27[var42].zCoord += (double)par4 + 0.5D;
         }
 
-        byte var64 = 5;
+        byte var65 = 5;
         byte var43 = 11;
         byte var44 = 3;
         byte var45 = 9;
@@ -2016,7 +2111,7 @@
                 var32 = var27[1];
                 var33 = var27[2];
                 var34 = var27[3];
-                var19 = (double)var18.getInterpolatedU((double)var64);
+                var19 = (double)var18.getInterpolatedU((double)var65);
                 var21 = (double)var18.getInterpolatedV((double)var44);
                 var23 = (double)var18.getInterpolatedU((double)var43);
                 var25 = (double)var18.getInterpolatedV((double)var45);
@@ -2034,7 +2129,7 @@
                 var32 = var27[0];
                 var33 = var27[4];
                 var34 = var27[5];
-                var19 = (double)var18.getInterpolatedU((double)var64);
+                var19 = (double)var18.getInterpolatedU((double)var65);
                 var21 = (double)var18.getInterpolatedV((double)var44);
                 var23 = (double)var18.getInterpolatedU((double)var43);
                 var25 = (double)var18.getInterpolatedV((double)(var44 + 2));
@@ -2069,7 +2164,7 @@
 
         if (var8)
         {
-            double var65 = var27[0].yCoord;
+            double var64 = var27[0].yCoord;
             float var48 = 0.03125F;
             float var49 = 0.5F - var48 / 2.0F;
             float var50 = var49 + var48;
@@ -2088,8 +2183,8 @@
                 var5.addVertexWithUV((double)((float)par2 + var50), (double)par3 + var60, (double)par4 + 0.25D, var52, var58);
                 var5.addVertexWithUV((double)((float)par2 + var50), (double)par3 + var60, (double)par4, var56, var58);
                 var5.addVertexWithUV((double)((float)par2 + var49), (double)par3 + var60, (double)par4, var56, var54);
-                var5.addVertexWithUV((double)((float)par2 + var49), var65, (double)par4 + 0.5D, var52, var54);
-                var5.addVertexWithUV((double)((float)par2 + var50), var65, (double)par4 + 0.5D, var52, var58);
+                var5.addVertexWithUV((double)((float)par2 + var49), var64, (double)par4 + 0.5D, var52, var54);
+                var5.addVertexWithUV((double)((float)par2 + var50), var64, (double)par4 + 0.5D, var52, var58);
                 var5.addVertexWithUV((double)((float)par2 + var50), (double)par3 + var60, (double)par4 + 0.25D, var56, var58);
                 var5.addVertexWithUV((double)((float)par2 + var49), (double)par3 + var60, (double)par4 + 0.25D, var56, var54);
             }
@@ -2097,8 +2192,8 @@
             {
                 var5.addVertexWithUV((double)((float)par2 + var49), (double)par3 + var60, (double)par4 + 0.75D, var52, var54);
                 var5.addVertexWithUV((double)((float)par2 + var50), (double)par3 + var60, (double)par4 + 0.75D, var52, var58);
-                var5.addVertexWithUV((double)((float)par2 + var50), var65, (double)par4 + 0.5D, var56, var58);
-                var5.addVertexWithUV((double)((float)par2 + var49), var65, (double)par4 + 0.5D, var56, var54);
+                var5.addVertexWithUV((double)((float)par2 + var50), var64, (double)par4 + 0.5D, var56, var58);
+                var5.addVertexWithUV((double)((float)par2 + var49), var64, (double)par4 + 0.5D, var56, var54);
                 var5.addVertexWithUV((double)((float)par2 + var49), (double)par3 + var60, (double)(par4 + 1), var52, var54);
                 var5.addVertexWithUV((double)((float)par2 + var50), (double)par3 + var60, (double)(par4 + 1), var52, var58);
                 var5.addVertexWithUV((double)((float)par2 + var50), (double)par3 + var60, (double)par4 + 0.75D, var56, var58);
@@ -2111,16 +2206,16 @@
                 var5.addVertexWithUV((double)par2 + 0.25D, (double)par3 + var60, (double)((float)par4 + var49), var56, var54);
                 var5.addVertexWithUV((double)par2, (double)par3 + var60, (double)((float)par4 + var49), var52, var54);
                 var5.addVertexWithUV((double)par2 + 0.25D, (double)par3 + var60, (double)((float)par4 + var50), var52, var58);
-                var5.addVertexWithUV((double)par2 + 0.5D, var65, (double)((float)par4 + var50), var56, var58);
-                var5.addVertexWithUV((double)par2 + 0.5D, var65, (double)((float)par4 + var49), var56, var54);
+                var5.addVertexWithUV((double)par2 + 0.5D, var64, (double)((float)par4 + var50), var56, var58);
+                var5.addVertexWithUV((double)par2 + 0.5D, var64, (double)((float)par4 + var49), var56, var54);
                 var5.addVertexWithUV((double)par2 + 0.25D, (double)par3 + var60, (double)((float)par4 + var49), var52, var54);
             }
             else
             {
-                var5.addVertexWithUV((double)par2 + 0.5D, var65, (double)((float)par4 + var50), var52, var58);
+                var5.addVertexWithUV((double)par2 + 0.5D, var64, (double)((float)par4 + var50), var52, var58);
                 var5.addVertexWithUV((double)par2 + 0.75D, (double)par3 + var60, (double)((float)par4 + var50), var56, var58);
                 var5.addVertexWithUV((double)par2 + 0.75D, (double)par3 + var60, (double)((float)par4 + var49), var56, var54);
-                var5.addVertexWithUV((double)par2 + 0.5D, var65, (double)((float)par4 + var49), var52, var54);
+                var5.addVertexWithUV((double)par2 + 0.5D, var64, (double)((float)par4 + var49), var52, var54);
                 var5.addVertexWithUV((double)par2 + 0.75D, (double)par3 + var60, (double)((float)par4 + var50), var52, var58);
                 var5.addVertexWithUV((double)(par2 + 1), (double)par3 + var60, (double)((float)par4 + var50), var56, var58);
                 var5.addVertexWithUV((double)(par2 + 1), (double)par3 + var60, (double)((float)par4 + var49), var56, var54);
@@ -2137,7 +2232,7 @@
     public boolean renderBlockTripWire(Block par1Block, int par2, int par3, int par4)
     {
         Tessellator var5 = Tessellator.instance;
-        Icon var6 = this.getBlockIconFromSide(par1Block, 0);
+        Icon var6 = this.blockAccess == null ? this.getBlockIconFromSide(par1Block, 0) : this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0);
         int var7 = this.blockAccess.getBlockMetadata(par2, par3, par4);
         boolean var8 = (var7 & 4) == 4;
         boolean var9 = (var7 & 2) == 2;
@@ -2298,7 +2393,15 @@
         double var30;
         double var32;
 
+        // FCMOD: Code added
+        boolean bFireRendered = false;
+        // END FCMOD
+        // FCMOD: Changed line so that fire will prefer the sides of flammable surfaces rather than the top of non-falmmable
+        /*
         if (!this.blockAccess.doesBlockHaveSolidTopSurface(par2, par3 - 1, par4) && !Block.fire.canBlockCatchFire(this.blockAccess, par2, par3 - 1, par4))
+        */
+        if ( !Block.fire.ShouldFirePreferToDisplayUpwards( blockAccess, par2, par3, par4 ) )
+        // END FCMOD
         {
             float var36 = 0.2F;
             float var19 = 0.0625F;
@@ -2328,6 +2431,9 @@
                 var5.addVertexWithUV((double)(par2 + 0), (double)((float)(par3 + 0) + var19), (double)(par4 + 0), var9, var15);
                 var5.addVertexWithUV((double)(par2 + 0), (double)((float)(par3 + 0) + var19), (double)(par4 + 1), var13, var15);
                 var5.addVertexWithUV((double)((float)par2 + var36), (double)((float)par3 + var17 + var19), (double)(par4 + 1), var13, var11);
+                // FCMOD: Code added
+                bFireRendered = true;
+                // END FCMOD
             }
 
             if (Block.fire.canBlockCatchFire(this.blockAccess, par2 + 1, par3, par4))
@@ -2340,6 +2446,9 @@
                 var5.addVertexWithUV((double)(par2 + 1 - 0), (double)((float)(par3 + 0) + var19), (double)(par4 + 1), var13, var15);
                 var5.addVertexWithUV((double)(par2 + 1 - 0), (double)((float)(par3 + 0) + var19), (double)(par4 + 0), var9, var15);
                 var5.addVertexWithUV((double)((float)(par2 + 1) - var36), (double)((float)par3 + var17 + var19), (double)(par4 + 0), var9, var11);
+                // FCMOD: Code added
+                bFireRendered = true;
+                // END FCMOD
             }
 
             if (Block.fire.canBlockCatchFire(this.blockAccess, par2, par3, par4 - 1))
@@ -2352,6 +2461,9 @@
                 var5.addVertexWithUV((double)(par2 + 1), (double)((float)(par3 + 0) + var19), (double)(par4 + 0), var9, var15);
                 var5.addVertexWithUV((double)(par2 + 0), (double)((float)(par3 + 0) + var19), (double)(par4 + 0), var13, var15);
                 var5.addVertexWithUV((double)(par2 + 0), (double)((float)par3 + var17 + var19), (double)((float)par4 + var36), var13, var11);
+                // FCMOD: Code added
+                bFireRendered = true;
+                // END FCMOD
             }
 
             if (Block.fire.canBlockCatchFire(this.blockAccess, par2, par3, par4 + 1))
@@ -2364,6 +2476,9 @@
                 var5.addVertexWithUV((double)(par2 + 0), (double)((float)(par3 + 0) + var19), (double)(par4 + 1 - 0), var13, var15);
                 var5.addVertexWithUV((double)(par2 + 1), (double)((float)(par3 + 0) + var19), (double)(par4 + 1 - 0), var9, var15);
                 var5.addVertexWithUV((double)(par2 + 1), (double)((float)par3 + var17 + var19), (double)((float)(par4 + 1) - var36), var9, var11);
+                // FCMOD: Code added
+                bFireRendered = true;
+                // END FCMOD
             }
 
             if (Block.fire.canBlockCatchFire(this.blockAccess, par2, par3 + 1, par4))
@@ -2413,9 +2528,17 @@
                     var5.addVertexWithUV((double)(par2 + 0), (double)(par3 + 0), var24, var9, var15);
                     var5.addVertexWithUV((double)(par2 + 0), (double)((float)par3 + var17), var32, var9, var11);
                 }
+                // FCMOD: Code added
+                bFireRendered = true;
+                // END FCMOD
             }
         }
+        // FCMOD: Changed line so that fire will prefer the sides of flammable surfaces rather than the top of non-falmmable
+        /*
         else
+        */
+        if ( !bFireRendered && ( blockAccess.doesBlockHaveSolidTopSurface(par2, par3 - 1, par4) || Block.fire.canBlockCatchFire(this.blockAccess, par2, par3 - 1, par4) ) )
+        // END FCMOD        	
         {
             double var18 = (double)par2 + 0.5D + 0.2D;
             var20 = (double)par2 + 0.5D - 0.2D;
@@ -2491,16 +2614,29 @@
         Icon var10 = BlockRedstoneWire.func_94409_b("redstoneDust_line_overlay");
         var5.setBrightness(par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4));
         float var11 = 1.0F;
+        float var13;
+        float var14;
+        float var15;
+
+        if (ColorizeBlock.computeRedstoneWireColor(var6))
+        {
+        	var13 = Colorizer.setColor[0];
+            var14 = Colorizer.setColor[1];
+            var15 = Colorizer.setColor[2];
+        }
+        else
+        {
         float var12 = (float)var6 / 15.0F;
-        float var13 = var12 * 0.6F + 0.4F;
+            var13 = var12 * 0.6F + 0.4F;
 
         if (var6 == 0)
         {
             var13 = 0.3F;
         }
 
-        float var14 = var12 * var12 * 0.7F - 0.5F;
-        float var15 = var12 * var12 * 0.6F - 0.7F;
+            var14 = var12 * var12 * 0.7F - 0.5F;
+            var15 = var12 * var12 * 0.6F - 0.7F;
+        }
 
         if (var14 < 0.0F)
         {
@@ -2708,7 +2844,7 @@
     {
         Tessellator var5 = Tessellator.instance;
         int var6 = this.blockAccess.getBlockMetadata(par2, par3, par4);
-        Icon var7 = this.getBlockIconFromSideAndMetadata(par1BlockRailBase, 0, var6);
+        Icon var7 = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockRailBase, 0, var6) : this.getBlockIcon(par1BlockRailBase, this.blockAccess, par2, par3, par4, 0);
 
         if (this.hasOverrideBlockTexture())
         {
@@ -2796,7 +2932,7 @@
     public boolean renderBlockLadder(Block par1Block, int par2, int par3, int par4)
     {
         Tessellator var5 = Tessellator.instance;
-        Icon var6 = this.getBlockIconFromSide(par1Block, 0);
+        Icon var6 = this.blockAccess == null ? this.getBlockIconFromSide(par1Block, 0) : this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0);
 
         if (this.hasOverrideBlockTexture())
         {
@@ -2855,7 +2991,7 @@
     public boolean renderBlockVine(Block par1Block, int par2, int par3, int par4)
     {
         Tessellator var5 = Tessellator.instance;
-        Icon var6 = this.getBlockIconFromSide(par1Block, 0);
+        Icon var6 = this.blockAccess == null ? this.getBlockIconFromSide(par1Block, 0) : this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0);
 
         if (this.hasOverrideBlockTexture())
         {
@@ -2946,6 +3082,8 @@
         float var10 = (float)(var8 >> 8 & 255) / 255.0F;
         float var11 = (float)(var8 & 255) / 255.0F;
 
+        // FCMOD: Code removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             float var12 = (var9 * 30.0F + var10 * 59.0F + var11 * 11.0F) / 100.0F;
@@ -2955,6 +3093,8 @@
             var10 = var13;
             var11 = var14;
         }
+        */
+        // END FCMOD
 
         var6.setColorOpaque_F(var7 * var9, var7 * var10, var7 * var11);
         Icon var64;
@@ -2969,7 +3109,7 @@
         else
         {
             var66 = this.blockAccess.getBlockMetadata(par2, par3, par4);
-            var64 = this.getBlockIconFromSideAndMetadata(par1BlockPane, 0, var66);
+            var64 = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockPane, 0, var66) : this.getBlockIcon(par1BlockPane, this.blockAccess, par2, par3, par4, 0);
             var65 = par1BlockPane.getSideTextureIndex();
         }
 
@@ -3003,11 +3143,14 @@
         boolean var61 = par1BlockPane.canThisPaneConnectToThisBlockID(this.blockAccess.getBlockId(par2 + 1, par3, par4));
         boolean var62 = par1BlockPane.shouldSideBeRendered(this.blockAccess, par2, par3 + 1, par4, 1);
         boolean var63 = par1BlockPane.shouldSideBeRendered(this.blockAccess, par2, par3 - 1, par4, 0);
+        GlassPaneRenderer.renderThin(this, par1BlockPane, var64, par2, par3, par4, var58, var59, var60, var61);
 
         if ((!var60 || !var61) && (var60 || var61 || var58 || var59))
         {
             if (var60 && !var61)
             {
+            	if (!GlassPaneRenderer.skipPaneRendering)
+                {
                 var6.addVertexWithUV(var38, (double)(par3 + 1), var46, var16, var22);
                 var6.addVertexWithUV(var38, (double)(par3 + 0), var46, var16, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var46, var18, var24);
@@ -3016,6 +3159,7 @@
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var46, var16, var24);
                 var6.addVertexWithUV(var38, (double)(par3 + 0), var46, var18, var24);
                 var6.addVertexWithUV(var38, (double)(par3 + 1), var46, var18, var22);
+                }
 
                 if (!var59 && !var58)
                 {
@@ -3041,7 +3185,7 @@
                     var6.addVertexWithUV(var40, (double)(par3 + 1) + 0.01D, var54, var28, var34);
                 }
 
-                if (var63 || par3 > 1 && this.blockAccess.isAirBlock(par2 - 1, par3 - 1, par4))
+                if ((var62 || par3 < var5 - 1 && this.blockAccess.isAirBlock(par2 - 1, par3 + 1, par4)) && !GlassPaneRenderer.skipTopEdgeRendering)
                 {
                     var6.addVertexWithUV(var38, (double)par3 - 0.01D, var56, var30, var34);
                     var6.addVertexWithUV(var40, (double)par3 - 0.01D, var56, var30, var36);
@@ -3055,6 +3199,8 @@
             }
             else if (!var60 && var61)
             {
+            	if (!GlassPaneRenderer.skipPaneRendering)
+                {
                 var6.addVertexWithUV(var40, (double)(par3 + 1), var46, var18, var22);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var46, var18, var24);
                 var6.addVertexWithUV(var42, (double)(par3 + 0), var46, var20, var24);
@@ -3063,6 +3209,7 @@
                 var6.addVertexWithUV(var42, (double)(par3 + 0), var46, var18, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var46, var20, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 1), var46, var20, var22);
+                }
 
                 if (!var59 && !var58)
                 {
@@ -3076,7 +3223,7 @@
                     var6.addVertexWithUV(var40, (double)(par3 + 1), var54, var30, var32);
                 }
 
-                if (var62 || par3 < var5 - 1 && this.blockAccess.isAirBlock(par2 + 1, par3 + 1, par4))
+                if ((var62 || par3 < var5 - 1 && this.blockAccess.isAirBlock(par2 + 1, par3 + 1, par4)) && !GlassPaneRenderer.skipTopEdgeRendering)
                 {
                     var6.addVertexWithUV(var40, (double)(par3 + 1) + 0.01D, var56, var30, var32);
                     var6.addVertexWithUV(var42, (double)(par3 + 1) + 0.01D, var56, var30, var34);
@@ -3088,7 +3235,7 @@
                     var6.addVertexWithUV(var42, (double)(par3 + 1) + 0.01D, var54, var28, var32);
                 }
 
-                if (var63 || par3 > 1 && this.blockAccess.isAirBlock(par2 + 1, par3 - 1, par4))
+                if ((var63 || par3 > 1 && this.blockAccess.isAirBlock(par2 + 1, par3 - 1, par4)) && !GlassPaneRenderer.skipBottomEdgeRendering)
                 {
                     var6.addVertexWithUV(var40, (double)par3 - 0.01D, var56, var30, var32);
                     var6.addVertexWithUV(var42, (double)par3 - 0.01D, var56, var30, var34);
@@ -3103,6 +3250,8 @@
         }
         else
         {
+        	if (!GlassPaneRenderer.skipPaneRendering)
+            {
             var6.addVertexWithUV(var38, (double)(par3 + 1), var46, var16, var22);
             var6.addVertexWithUV(var38, (double)(par3 + 0), var46, var16, var24);
             var6.addVertexWithUV(var42, (double)(par3 + 0), var46, var20, var24);
@@ -3111,9 +3260,12 @@
             var6.addVertexWithUV(var42, (double)(par3 + 0), var46, var16, var24);
             var6.addVertexWithUV(var38, (double)(par3 + 0), var46, var20, var24);
             var6.addVertexWithUV(var38, (double)(par3 + 1), var46, var20, var22);
+            }
 
             if (var62)
             {
+            	if (!GlassPaneRenderer.skipTopEdgeRendering)
+                {
                 var6.addVertexWithUV(var38, (double)(par3 + 1) + 0.01D, var56, var30, var36);
                 var6.addVertexWithUV(var42, (double)(par3 + 1) + 0.01D, var56, var30, var32);
                 var6.addVertexWithUV(var42, (double)(par3 + 1) + 0.01D, var54, var28, var32);
@@ -3123,9 +3275,10 @@
                 var6.addVertexWithUV(var38, (double)(par3 + 1) + 0.01D, var54, var28, var32);
                 var6.addVertexWithUV(var42, (double)(par3 + 1) + 0.01D, var54, var28, var36);
             }
+            }
             else
             {
-                if (par3 < var5 - 1 && this.blockAccess.isAirBlock(par2 - 1, par3 + 1, par4))
+            	if (par3 < var5 - 1 && this.blockAccess.isAirBlock(par2 - 1, par3 + 1, par4) && !GlassPaneRenderer.skipTopEdgeRendering)
                 {
                     var6.addVertexWithUV(var38, (double)(par3 + 1) + 0.01D, var56, var30, var34);
                     var6.addVertexWithUV(var40, (double)(par3 + 1) + 0.01D, var56, var30, var36);
@@ -3137,7 +3290,7 @@
                     var6.addVertexWithUV(var40, (double)(par3 + 1) + 0.01D, var54, var28, var34);
                 }
 
-                if (par3 < var5 - 1 && this.blockAccess.isAirBlock(par2 + 1, par3 + 1, par4))
+            	if (par3 < var5 - 1 && this.blockAccess.isAirBlock(par2 + 1, par3 + 1, par4) && !GlassPaneRenderer.skipTopEdgeRendering)
                 {
                     var6.addVertexWithUV(var40, (double)(par3 + 1) + 0.01D, var56, var30, var32);
                     var6.addVertexWithUV(var42, (double)(par3 + 1) + 0.01D, var56, var30, var34);
@@ -3152,6 +3305,8 @@
 
             if (var63)
             {
+            	if (!GlassPaneRenderer.skipBottomEdgeRendering)
+                {
                 var6.addVertexWithUV(var38, (double)par3 - 0.01D, var56, var30, var36);
                 var6.addVertexWithUV(var42, (double)par3 - 0.01D, var56, var30, var32);
                 var6.addVertexWithUV(var42, (double)par3 - 0.01D, var54, var28, var32);
@@ -3161,9 +3316,10 @@
                 var6.addVertexWithUV(var38, (double)par3 - 0.01D, var54, var28, var32);
                 var6.addVertexWithUV(var42, (double)par3 - 0.01D, var54, var28, var36);
             }
+            }
             else
             {
-                if (par3 > 1 && this.blockAccess.isAirBlock(par2 - 1, par3 - 1, par4))
+            	if (par3 > 1 && this.blockAccess.isAirBlock(par2 - 1, par3 - 1, par4) && !GlassPaneRenderer.skipBottomEdgeRendering)
                 {
                     var6.addVertexWithUV(var38, (double)par3 - 0.01D, var56, var30, var34);
                     var6.addVertexWithUV(var40, (double)par3 - 0.01D, var56, var30, var36);
@@ -3175,7 +3331,7 @@
                     var6.addVertexWithUV(var40, (double)par3 - 0.01D, var54, var28, var34);
                 }
 
-                if (par3 > 1 && this.blockAccess.isAirBlock(par2 + 1, par3 - 1, par4))
+            	if (par3 > 1 && this.blockAccess.isAirBlock(par2 + 1, par3 - 1, par4) && !GlassPaneRenderer.skipBottomEdgeRendering)
                 {
                     var6.addVertexWithUV(var40, (double)par3 - 0.01D, var56, var30, var32);
                     var6.addVertexWithUV(var42, (double)par3 - 0.01D, var56, var30, var34);
@@ -3193,6 +3349,8 @@
         {
             if (var58 && !var59)
             {
+            	if (!GlassPaneRenderer.skipPaneRendering)
+                {
                 var6.addVertexWithUV(var40, (double)(par3 + 1), var44, var16, var22);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var44, var16, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var46, var18, var24);
@@ -3201,6 +3359,7 @@
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var46, var16, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var44, var18, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 1), var44, var18, var22);
+                }
 
                 if (!var61 && !var60)
                 {
@@ -3214,7 +3373,7 @@
                     var6.addVertexWithUV(var50, (double)(par3 + 1), var46, var30, var32);
                 }
 
-                if (var62 || par3 < var5 - 1 && this.blockAccess.isAirBlock(par2, par3 + 1, par4 - 1))
+                if ((var62 || par3 < var5 - 1 && this.blockAccess.isAirBlock(par2, par3 + 1, par4 - 1)) && !GlassPaneRenderer.skipTopEdgeRendering)
                 {
                     var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var44, var30, var32);
                     var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var46, var30, var34);
@@ -3226,7 +3385,7 @@
                     var6.addVertexWithUV(var52, (double)(par3 + 1) + 0.005D, var46, var28, var32);
                 }
 
-                if (var63 || par3 > 1 && this.blockAccess.isAirBlock(par2, par3 - 1, par4 - 1))
+                if ((var63 || par3 > 1 && this.blockAccess.isAirBlock(par2, par3 - 1, par4 - 1)) && !GlassPaneRenderer.skipBottomEdgeRendering)
                 {
                     var6.addVertexWithUV(var50, (double)par3 - 0.005D, var44, var30, var32);
                     var6.addVertexWithUV(var50, (double)par3 - 0.005D, var46, var30, var34);
@@ -3240,6 +3399,8 @@
             }
             else if (!var58 && var59)
             {
+            	if (!GlassPaneRenderer.skipPaneRendering)
+                {
                 var6.addVertexWithUV(var40, (double)(par3 + 1), var46, var18, var22);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var46, var18, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var48, var20, var24);
@@ -3248,6 +3409,7 @@
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var48, var18, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 0), var46, var20, var24);
                 var6.addVertexWithUV(var40, (double)(par3 + 1), var46, var20, var22);
+                }
 
                 if (!var61 && !var60)
                 {
@@ -3261,7 +3423,7 @@
                     var6.addVertexWithUV(var52, (double)(par3 + 1), var46, var30, var32);
                 }
 
-                if (var62 || par3 < var5 - 1 && this.blockAccess.isAirBlock(par2, par3 + 1, par4 + 1))
+                if ((var62 || par3 < var5 - 1 && this.blockAccess.isAirBlock(par2, par3 + 1, par4 + 1)) && !GlassPaneRenderer.skipTopEdgeRendering)
                 {
                     var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var46, var28, var34);
                     var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var48, var28, var36);
@@ -3273,7 +3435,7 @@
                     var6.addVertexWithUV(var52, (double)(par3 + 1) + 0.005D, var48, var30, var34);
                 }
 
-                if (var63 || par3 > 1 && this.blockAccess.isAirBlock(par2, par3 - 1, par4 + 1))
+                if ((var63 || par3 > 1 && this.blockAccess.isAirBlock(par2, par3 - 1, par4 + 1)) && !GlassPaneRenderer.skipBottomEdgeRendering)
                 {
                     var6.addVertexWithUV(var50, (double)par3 - 0.005D, var46, var28, var34);
                     var6.addVertexWithUV(var50, (double)par3 - 0.005D, var48, var28, var36);
@@ -3288,6 +3450,8 @@
         }
         else
         {
+        	if (!GlassPaneRenderer.skipPaneRendering)
+            {
             var6.addVertexWithUV(var40, (double)(par3 + 1), var48, var16, var22);
             var6.addVertexWithUV(var40, (double)(par3 + 0), var48, var16, var24);
             var6.addVertexWithUV(var40, (double)(par3 + 0), var44, var20, var24);
@@ -3296,9 +3460,12 @@
             var6.addVertexWithUV(var40, (double)(par3 + 0), var44, var16, var24);
             var6.addVertexWithUV(var40, (double)(par3 + 0), var48, var20, var24);
             var6.addVertexWithUV(var40, (double)(par3 + 1), var48, var20, var22);
+            }
 
             if (var62)
             {
+            	if (!GlassPaneRenderer.skipTopEdgeRendering)
+                {
                 var6.addVertexWithUV(var52, (double)(par3 + 1) + 0.005D, var48, var30, var36);
                 var6.addVertexWithUV(var52, (double)(par3 + 1) + 0.005D, var44, var30, var32);
                 var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var44, var28, var32);
@@ -3308,9 +3475,10 @@
                 var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var48, var28, var32);
                 var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var44, var28, var36);
             }
+            }
             else
             {
-                if (par3 < var5 - 1 && this.blockAccess.isAirBlock(par2, par3 + 1, par4 - 1))
+            	if (par3 < var5 - 1 && this.blockAccess.isAirBlock(par2, par3 + 1, par4 - 1) && !GlassPaneRenderer.skipTopEdgeRendering)
                 {
                     var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var44, var30, var32);
                     var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var46, var30, var34);
@@ -3322,7 +3490,7 @@
                     var6.addVertexWithUV(var52, (double)(par3 + 1) + 0.005D, var46, var28, var32);
                 }
 
-                if (par3 < var5 - 1 && this.blockAccess.isAirBlock(par2, par3 + 1, par4 + 1))
+            	if (par3 < var5 - 1 && this.blockAccess.isAirBlock(par2, par3 + 1, par4 + 1) && !GlassPaneRenderer.skipTopEdgeRendering)
                 {
                     var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var46, var28, var34);
                     var6.addVertexWithUV(var50, (double)(par3 + 1) + 0.005D, var48, var28, var36);
@@ -3337,6 +3505,8 @@
 
             if (var63)
             {
+            	if (!GlassPaneRenderer.skipBottomEdgeRendering)
+                {
                 var6.addVertexWithUV(var52, (double)par3 - 0.005D, var48, var30, var36);
                 var6.addVertexWithUV(var52, (double)par3 - 0.005D, var44, var30, var32);
                 var6.addVertexWithUV(var50, (double)par3 - 0.005D, var44, var28, var32);
@@ -3346,9 +3516,10 @@
                 var6.addVertexWithUV(var50, (double)par3 - 0.005D, var48, var28, var32);
                 var6.addVertexWithUV(var50, (double)par3 - 0.005D, var44, var28, var36);
             }
+            }
             else
             {
-                if (par3 > 1 && this.blockAccess.isAirBlock(par2, par3 - 1, par4 - 1))
+            	if (par3 > 1 && this.blockAccess.isAirBlock(par2, par3 - 1, par4 - 1) && !GlassPaneRenderer.skipBottomEdgeRendering)
                 {
                     var6.addVertexWithUV(var50, (double)par3 - 0.005D, var44, var30, var32);
                     var6.addVertexWithUV(var50, (double)par3 - 0.005D, var46, var30, var34);
@@ -3360,7 +3531,7 @@
                     var6.addVertexWithUV(var52, (double)par3 - 0.005D, var46, var28, var32);
                 }
 
-                if (par3 > 1 && this.blockAccess.isAirBlock(par2, par3 - 1, par4 + 1))
+            	if (par3 > 1 && this.blockAccess.isAirBlock(par2, par3 - 1, par4 + 1) && !GlassPaneRenderer.skipBottomEdgeRendering)
                 {
                     var6.addVertexWithUV(var50, (double)par3 - 0.005D, var46, var28, var34);
                     var6.addVertexWithUV(var50, (double)par3 - 0.005D, var48, var28, var36);
@@ -3390,6 +3561,8 @@
         float var9 = (float)(var7 >> 8 & 255) / 255.0F;
         float var10 = (float)(var7 & 255) / 255.0F;
 
+        // FCMOD: Code removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             float var11 = (var8 * 30.0F + var9 * 59.0F + var10 * 11.0F) / 100.0F;
@@ -3399,6 +3572,8 @@
             var9 = var12;
             var10 = var13;
         }
+        */
+        // END FCMOD
 
         var5.setColorOpaque_F(var6 * var8, var6 * var9, var6 * var10);
         double var19 = (double)par2;
@@ -3432,6 +3607,8 @@
         float var10 = (float)(var8 >> 8 & 255) / 255.0F;
         float var11 = (float)(var8 & 255) / 255.0F;
 
+        // FCMOD: Removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             float var12 = (var9 * 30.0F + var10 * 59.0F + var11 * 11.0F) / 100.0F;
@@ -3441,11 +3618,15 @@
             var10 = var13;
             var11 = var14;
         }
+        */
+        // END FCMOD
 
         var6.setColorOpaque_F(var7 * var9, var7 * var10, var7 * var11);
         var5.setBlockBoundsBasedOnState(this.blockAccess, par2, par3, par4);
         int var15 = var5.getState(this.blockAccess, par2, par3, par4);
 
+        // FCMOD: Changed to display stems correctly over Planters
+        /*
         if (var15 < 0)
         {
             this.renderBlockStemSmall(var5, this.blockAccess.getBlockMetadata(par2, par3, par4), this.renderMaxY, (double)par2, (double)((float)par3 - 0.0625F), (double)par4);
@@ -3455,7 +3636,32 @@
             this.renderBlockStemSmall(var5, this.blockAccess.getBlockMetadata(par2, par3, par4), 0.5D, (double)par2, (double)((float)par3 - 0.0625F), (double)par4);
             this.renderBlockStemBig(var5, this.blockAccess.getBlockMetadata(par2, par3, par4), var15, this.renderMaxY, (double)par2, (double)((float)par3 - 0.0625F), (double)par4);
         }
+        */
+        Block blockBelow = Block.blocksList[blockAccess.getBlockId( par2, par3 - 1, par4 )];
 
+        float fVerticalOffset = 0F;
+        
+        if ( blockBelow != null )
+        {
+        	fVerticalOffset = blockBelow.GroundCoverRestingOnVisualOffset( blockAccess, 
+        		par2, par3 - 1, par4 );
+        }
+        
+        if (var15 < 0)
+        {
+            renderBlockStemSmall( var5, blockAccess.getBlockMetadata( par2, par3, par4 ), renderMaxY, 
+            	par2, par3 + fVerticalOffset, par4 );
+        }
+        else
+        {
+            renderBlockStemSmall( var5, blockAccess.getBlockMetadata( par2, par3, par4 ), 0.5D, 
+            	par2, par3 + fVerticalOffset, par4 );
+            
+            renderBlockStemBig( var5, blockAccess.getBlockMetadata( par2, par3, par4 ), var15, 
+            	renderMaxY, par2, par3 + fVerticalOffset, par4);
+        }
+        // END FCMOD
+
         return true;
     }
 
@@ -3467,7 +3673,20 @@
         Tessellator var5 = Tessellator.instance;
         var5.setBrightness(par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4));
         var5.setColorOpaque_F(1.0F, 1.0F, 1.0F);
-        this.renderBlockCropsImpl(par1Block, this.blockAccess.getBlockMetadata(par2, par3, par4), (double)par2, (double)((float)par3 - 0.0625F), (double)par4);
+        // FCMOD: Changed to display crops correctly over Planters
+        //this.renderBlockCropsImpl(par1Block, this.blockAccess.getBlockMetadata(par2, par3, par4), (double)par2, (double)((float)par3 - 0.0625F), (double)par4);
+        Block blockBelow = Block.blocksList[blockAccess.getBlockId( par2, par3 - 1, par4 )];
+        double dVerticalOffset = 0F;
+        
+        if ( blockBelow != null )
+        {
+        	dVerticalOffset = blockBelow.GroundCoverRestingOnVisualOffset( blockAccess, 
+        		par2, par3 - 1, par4 );
+        }
+        
+        renderBlockCropsImpl( par1Block, blockAccess.getBlockMetadata( par2, par3, par4 ), 
+        	par2, par3 + dVerticalOffset, (double)par4 );
+        // END FCMOD
         return true;
     }
 
@@ -3536,7 +3755,7 @@
     public void drawCrossedSquares(Block par1Block, int par2, double par3, double par5, double par7, float par9)
     {
         Tessellator var10 = Tessellator.instance;
-        Icon var11 = this.getBlockIconFromSideAndMetadata(par1Block, 0, par2);
+        Icon var11 = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1Block, 0, par2) : this.getBlockIcon(par1Block, this.blockAccess, (int)Math.round(par3), (int)Math.round(par5), (int)Math.round(par7), -1);
 
         if (this.hasOverrideBlockTexture())
         {
@@ -3615,7 +3834,7 @@
     public boolean renderBlockLilyPad(Block par1Block, int par2, int par3, int par4)
     {
         Tessellator var5 = Tessellator.instance;
-        Icon var6 = this.getBlockIconFromSide(par1Block, 1);
+        Icon var6 = this.blockAccess == null ? this.getBlockIconFromSide(par1Block, 1) : this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 1);
 
         if (this.hasOverrideBlockTexture())
         {
@@ -3765,6 +3984,8 @@
     /**
      * Renders a block based on the BlockFluids class at the given coordinates
      */
+    // FCMOD: Code removed and replaced later
+    /*
     public boolean renderBlockFluids(Block par1Block, int par2, int par3, int par4)
     {
         Tessellator var5 = Tessellator.instance;
@@ -3772,9 +3993,9 @@
         float var7 = (float)(var6 >> 16 & 255) / 255.0F;
         float var8 = (float)(var6 >> 8 & 255) / 255.0F;
         float var9 = (float)(var6 & 255) / 255.0F;
-        boolean var10 = par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 + 1, par4, 1);
-        boolean var11 = par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 - 1, par4, 0);
-        boolean[] var12 = new boolean[] {par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 - 1, 2), par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 + 1, 3), par1Block.shouldSideBeRendered(this.blockAccess, par2 - 1, par3, par4, 4), par1Block.shouldSideBeRendered(this.blockAccess, par2 + 1, par3, par4, 5)};
+        boolean var10 = RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 + 1, par4, 1);
+        boolean var11 = RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 - 1, par4, 0);
+        boolean[] var12 = new boolean[] {RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 - 1, 2), RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 + 1, 3), RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 - 1, par3, par4, 4), RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 + 1, par3, par4, 5)};
 
         if (!var10 && !var11 && !var12[0] && !var12[1] && !var12[2] && !var12[3])
         {
@@ -3796,8 +4017,8 @@
             double var28 = (double)this.getFluidHeight(par2 + 1, par3, par4 + 1, var22);
             double var30 = (double)this.getFluidHeight(par2 + 1, par3, par4, var22);
             double var32 = 0.0010000000474974513D;
-            float var52;
             float var53;
+            float var52;
 
             if (this.renderAllFaces || var10)
             {
@@ -3814,14 +4035,14 @@
                 var26 -= var32;
                 var28 -= var32;
                 var30 -= var32;
-                double var36;
                 double var38;
-                double var40;
+                double var36;
                 double var42;
-                double var44;
+                double var40;
                 double var46;
-                double var48;
+                double var44;
                 double var50;
+                double var48;
 
                 if (var35 < -999.0F)
                 {
@@ -3860,49 +4081,49 @@
             if (this.renderAllFaces || var11)
             {
                 var5.setBrightness(par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4));
-                float var57 = 1.0F;
-                var5.setColorOpaque_F(var14 * var57, var14 * var57, var14 * var57);
+                float var58 = 1.0F;
+                var5.setColorOpaque_F(var14 * var58, var14 * var58, var14 * var58);
                 this.renderFaceYNeg(par1Block, (double)par2, (double)par3 + var32, (double)par4, this.getBlockIconFromSide(par1Block, 0));
                 var13 = true;
             }
 
-            for (int var59 = 0; var59 < 4; ++var59)
+            for (int var57 = 0; var57 < 4; ++var57)
             {
-                int var58 = par2;
+                int var59 = par2;
                 int var37 = par4;
 
-                if (var59 == 0)
+                if (var57 == 0)
                 {
                     var37 = par4 - 1;
                 }
 
-                if (var59 == 1)
+                if (var57 == 1)
                 {
                     ++var37;
                 }
 
-                if (var59 == 2)
+                if (var57 == 2)
                 {
-                    var58 = par2 - 1;
+                    var59 = par2 - 1;
                 }
 
-                if (var59 == 3)
+                if (var57 == 3)
                 {
-                    ++var58;
+                    ++var59;
                 }
 
-                Icon var60 = this.getBlockIconFromSideAndMetadata(par1Block, var59 + 2, var23);
+                Icon var60 = this.getBlockIconFromSideAndMetadata(par1Block, var57 + 2, var23);
 
-                if (this.renderAllFaces || var12[var59])
+                if (this.renderAllFaces || var12[var57])
                 {
                     double var39;
-                    double var41;
                     double var43;
-                    double var45;
+                    double var41;
                     double var47;
+                    double var45;
                     double var49;
 
-                    if (var59 == 0)
+                    if (var57 == 0)
                     {
                         var39 = var24;
                         var41 = var30;
@@ -3911,7 +4132,7 @@
                         var45 = (double)par4 + var32;
                         var49 = (double)par4 + var32;
                     }
-                    else if (var59 == 1)
+                    else if (var57 == 1)
                     {
                         var39 = var28;
                         var41 = var26;
@@ -3920,7 +4141,7 @@
                         var45 = (double)(par4 + 1) - var32;
                         var49 = (double)(par4 + 1) - var32;
                     }
-                    else if (var59 == 2)
+                    else if (var57 == 2)
                     {
                         var39 = var26;
                         var41 = var24;
@@ -3945,10 +4166,10 @@
                     var53 = var60.getInterpolatedV((1.0D - var39) * 16.0D * 0.5D);
                     float var54 = var60.getInterpolatedV((1.0D - var41) * 16.0D * 0.5D);
                     float var55 = var60.getInterpolatedV(8.0D);
-                    var5.setBrightness(par1Block.getMixedBrightnessForBlock(this.blockAccess, var58, par3, var37));
+                    var5.setBrightness(par1Block.getMixedBrightnessForBlock(this.blockAccess, var59, par3, var37));
                     float var56 = 1.0F;
 
-                    if (var59 < 2)
+                    if (var57 < 2)
                     {
                         var56 *= var16;
                     }
@@ -3970,6 +4191,8 @@
             return var13;
         }
     }
+    */
+    // END FCMOD
 
     /**
      * Get fluid height
@@ -4034,7 +4257,11 @@
             var13 = var12;
         }
 
+        if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, par2World, par3, par4, par5, 0))
+        {
         var11.setColorOpaque_F(var7 * var13, var7 * var13, var7 * var13);
+        }
+        
         this.renderFaceYNeg(par1Block, -0.5D, -0.5D, -0.5D, this.getBlockIconFromSideAndMetadata(par1Block, 0, par6));
         var13 = 1.0F;
 
@@ -4043,7 +4270,11 @@
             var13 = var12;
         }
 
+        if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, par2World, par3, par4, par5, 1))
+        {
         var11.setColorOpaque_F(var8 * var13, var8 * var13, var8 * var13);
+        }
+        
         this.renderFaceYPos(par1Block, -0.5D, -0.5D, -0.5D, this.getBlockIconFromSideAndMetadata(par1Block, 1, par6));
         var13 = 1.0F;
 
@@ -4052,7 +4283,11 @@
             var13 = var12;
         }
 
+        if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, par2World, par3, par4, par5, 2))
+        {
         var11.setColorOpaque_F(var9 * var13, var9 * var13, var9 * var13);
+        }
+        
         this.renderFaceZNeg(par1Block, -0.5D, -0.5D, -0.5D, this.getBlockIconFromSideAndMetadata(par1Block, 2, par6));
         var13 = 1.0F;
 
@@ -4061,7 +4296,11 @@
             var13 = var12;
         }
 
+        if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, par2World, par3, par4, par5, 2))
+        {
         var11.setColorOpaque_F(var9 * var13, var9 * var13, var9 * var13);
+        }
+        
         this.renderFaceZPos(par1Block, -0.5D, -0.5D, -0.5D, this.getBlockIconFromSideAndMetadata(par1Block, 3, par6));
         var13 = 1.0F;
 
@@ -4070,7 +4309,11 @@
             var13 = var12;
         }
 
-        var11.setColorOpaque_F(var10 * var13, var10 * var13, var10 * var13);
+        if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, par2World, par3, par4, par5, 2))
+        {
+            var11.setColorOpaque_F(var9 * var13, var9 * var13, var9 * var13);
+        }
+        
         this.renderFaceXNeg(par1Block, -0.5D, -0.5D, -0.5D, this.getBlockIconFromSideAndMetadata(par1Block, 4, par6));
         var13 = 1.0F;
 
@@ -4079,7 +4322,11 @@
             var13 = var12;
         }
 
-        var11.setColorOpaque_F(var10 * var13, var10 * var13, var10 * var13);
+        if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, par2World, par3, par4, par5, 2))
+        {
+            var11.setColorOpaque_F(var9 * var13, var9 * var13, var9 * var13);
+        }
+        
         this.renderFaceXPos(par1Block, -0.5D, -0.5D, -0.5D, this.getBlockIconFromSideAndMetadata(par1Block, 5, par6));
         var11.draw();
     }
@@ -4087,25 +4334,27 @@
     /**
      * Renders a standard cube block at the given coordinates
      */
-    public boolean renderStandardBlock(Block par1Block, int par2, int par3, int par4)
+    public boolean renderStandardBlock(Block block, int x, int y, int z)
     {
-        int var5 = par1Block.colorMultiplier(this.blockAccess, par2, par3, par4);
-        float var6 = (float)(var5 >> 16 & 255) / 255.0F;
-        float var7 = (float)(var5 >> 8 & 255) / 255.0F;
-        float var8 = (float)(var5 & 255) / 255.0F;
+        int color = block.colorMultiplier(this.blockAccess, x, y, z);
+        float red = (float)(color >> 16 & 255) / 255.0F;
+        float green = (float)(color >> 8 & 255) / 255.0F;
+        float blue = (float)(color & 255) / 255.0F;
 
-        if (EntityRenderer.anaglyphEnable)
-        {
-            float var9 = (var6 * 30.0F + var7 * 59.0F + var8 * 11.0F) / 100.0F;
-            float var10 = (var6 * 30.0F + var7 * 70.0F) / 100.0F;
-            float var11 = (var6 * 30.0F + var8 * 70.0F) / 100.0F;
-            var6 = var9;
-            var7 = var10;
-            var8 = var11;
-        }
+        RenderBlocksUtils.setupColorMultiplier(block, this.blockAccess, x, y, z, this.hasOverrideBlockTexture(), red, green, blue);
 
-        return Minecraft.isAmbientOcclusionEnabled() && Block.lightValue[par1Block.blockID] == 0 ? (this.partialRenderBounds ? this.func_102027_b(par1Block, par2, par3, par4, var6, var7, var8) : this.renderStandardBlockWithAmbientOcclusion(par1Block, par2, par3, par4, var6, var7, var8)) : this.renderStandardBlockWithColorMultiplier(par1Block, par2, par3, par4, var6, var7, var8);
+        if (Minecraft.isAmbientOcclusionEnabled()&& Block.lightValue[block.blockID] == 0) {
+        	if (this.partialRenderBounds) {
+        		return this.func_102027_b(block, x, y, z, red, green, blue);
     }
+        	else {
+        		return this.renderStandardBlockWithAmbientOcclusion(block, x, y, z, red, green, blue);
+        	}
+        }
+        else {
+        	return this.renderStandardBlockWithColorMultiplier(block, x, y, z, red, green, blue);
+        }
+    }
 
     /**
      * Renders a log block at the given coordinates
@@ -4178,23 +4427,28 @@
         Tessellator var15 = Tessellator.instance;
         var15.setBrightness(983055);
 
+        // FCMOD: Changed
+        /*
         if (this.getBlockIcon(par1Block).getIconName().equals("grass_top"))
         {
             var13 = false;
         }
         else if (this.hasOverrideBlockTexture())
+        */
+        if (this.hasOverrideBlockTexture())
+        // END FCMOD
         {
             var13 = false;
         }
 
-        boolean var16;
         boolean var17;
-        boolean var18;
+        boolean var16;
         boolean var19;
-        int var20;
+        boolean var18;
         float var21;
+        int var20;
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 - 1, par4, 0))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 - 1, par4, 0))
         {
             if (this.renderMinY <= 0.0D)
             {
@@ -4280,17 +4534,19 @@
             this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNN, this.aoBrightnessXYPN, this.aoBrightnessXYZPNN, var20);
             this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYNN, this.aoBrightnessXYZNNN, this.aoBrightnessYZNN, var20);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 0, var9, var10, var11, var12))
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.5F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.5F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.5F;
+            	if (RenderBlocksUtils.useColorMultiplier(0))
+                {
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * RenderPass.getAOBaseMultiplier(0.5F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * RenderPass.getAOBaseMultiplier(0.5F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * RenderPass.getAOBaseMultiplier(0.5F);
             }
             else
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.5F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.5F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.5F;
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = RenderPass.getAOBaseMultiplier(0.5F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = RenderPass.getAOBaseMultiplier(0.5F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = RenderPass.getAOBaseMultiplier(0.5F);
             }
 
             this.colorRedTopLeft *= var9;
@@ -4305,11 +4561,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+
             this.renderFaceYNeg(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0));
             var8 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 + 1, par4, 1))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 + 1, par4, 1))
         {
             if (this.renderMaxY >= 1.0D)
             {
@@ -4394,6 +4652,9 @@
             this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessYZPP, this.aoBrightnessXYZPPP, this.aoBrightnessXYPP, var20);
             this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessYZPN, this.aoBrightnessXYPP, this.aoBrightnessXYZPPN, var20);
             this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXYNP, this.aoBrightnessXYZNPN, this.aoBrightnessYZPN, var20);
+            
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 1, var9, var10, var11, var12))
+            {
             this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5;
             this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6;
             this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7;
@@ -4409,13 +4670,15 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+            
             this.renderFaceYPos(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 1));
             var8 = true;
         }
 
         Icon var22;
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 - 1, 2))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 - 1, 2))
         {
             if (this.renderMinZ <= 0.0D)
             {
@@ -4501,17 +4764,19 @@
             this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNN, this.aoBrightnessXYZPNN, this.aoBrightnessXZPN, var20);
             this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXYZNNN, this.aoBrightnessXZNN, this.aoBrightnessYZNN, var20);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 2, var9, var10, var11, var12))
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.8F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.8F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.8F;
+            	if (RenderBlocksUtils.useColorMultiplier(2))
+                {
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * RenderPass.getAOBaseMultiplier(0.8F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * RenderPass.getAOBaseMultiplier(0.8F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * RenderPass.getAOBaseMultiplier(0.8F);
             }
             else
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.8F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.8F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.8F;
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = RenderPass.getAOBaseMultiplier(0.8F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = RenderPass.getAOBaseMultiplier(0.8F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = RenderPass.getAOBaseMultiplier(0.8F);
             }
 
             this.colorRedTopLeft *= var9;
@@ -4526,9 +4791,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+
             var22 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 2);
             this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, var22);
 
+            // FCMOD: Removed
+            /*
             if (fancyGrass && var22.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 this.colorRedTopLeft *= par5;
@@ -4545,11 +4814,13 @@
                 this.colorBlueTopRight *= par7;
                 this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var8 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 + 1, 3))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 + 1, 3))
         {
             if (this.renderMaxZ >= 1.0D)
             {
@@ -4635,17 +4906,19 @@
             this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNP, this.aoBrightnessXYZPNP, this.aoBrightnessXZPP, var20);
             this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYZNNP, this.aoBrightnessXZNP, this.aoBrightnessYZNP, var20);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 3, var9, var10, var11, var12))
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.8F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.8F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.8F;
+            	if (RenderBlocksUtils.useColorMultiplier(3))
+                {
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * RenderPass.getAOBaseMultiplier(0.8F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * RenderPass.getAOBaseMultiplier(0.8F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * RenderPass.getAOBaseMultiplier(0.8F);
             }
             else
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.8F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.8F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.8F;
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = RenderPass.getAOBaseMultiplier(0.8F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = RenderPass.getAOBaseMultiplier(0.8F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = RenderPass.getAOBaseMultiplier(0.8F);
             }
 
             this.colorRedTopLeft *= var9;
@@ -4660,9 +4933,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+
             var22 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 3);
             this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 3));
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var22.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 this.colorRedTopLeft *= par5;
@@ -4679,11 +4956,13 @@
                 this.colorBlueTopRight *= par7;
                 this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+			*/
+			// END FCMOD
 
             var8 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 - 1, par3, par4, 4))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 - 1, par3, par4, 4))
         {
             if (this.renderMinX <= 0.0D)
             {
@@ -4769,17 +5048,19 @@
             this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXZNN, this.aoBrightnessXYZNPN, this.aoBrightnessXYNP, var20);
             this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXYZNNN, this.aoBrightnessXYNN, this.aoBrightnessXZNN, var20);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 4, var9, var10, var11, var12))
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.6F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.6F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.6F;
+            	if (RenderBlocksUtils.useColorMultiplier(4))
+                {
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * RenderPass.getAOBaseMultiplier(0.6F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * RenderPass.getAOBaseMultiplier(0.6F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * RenderPass.getAOBaseMultiplier(0.6F);
             }
             else
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.6F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.6F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.6F;
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = RenderPass.getAOBaseMultiplier(0.6F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = RenderPass.getAOBaseMultiplier(0.6F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = RenderPass.getAOBaseMultiplier(0.6F);
             }
 
             this.colorRedTopLeft *= var9;
@@ -4794,9 +5075,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+
             var22 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 4);
             this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, var22);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var22.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 this.colorRedTopLeft *= par5;
@@ -4813,11 +5098,13 @@
                 this.colorBlueTopRight *= par7;
                 this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var8 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 + 1, par3, par4, 5))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 + 1, par3, par4, 5))
         {
             if (this.renderMaxX >= 1.0D)
             {
@@ -4903,17 +5190,19 @@
             this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXZPN, this.aoBrightnessXYZPPN, this.aoBrightnessXYPP, var20);
             this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYZPNN, this.aoBrightnessXYPN, this.aoBrightnessXZPN, var20);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 5, var9, var10, var11, var12))
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.6F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.6F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.6F;
+            	if (RenderBlocksUtils.useColorMultiplier(5))
+                {
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * RenderPass.getAOBaseMultiplier(0.6F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * RenderPass.getAOBaseMultiplier(0.6F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * RenderPass.getAOBaseMultiplier(0.6F);
             }
             else
             {
-                this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.6F;
-                this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.6F;
-                this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.6F;
+                    this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = RenderPass.getAOBaseMultiplier(0.6F);
+                    this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = RenderPass.getAOBaseMultiplier(0.6F);
+                    this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = RenderPass.getAOBaseMultiplier(0.6F);
             }
 
             this.colorRedTopLeft *= var9;
@@ -4928,9 +5217,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+
             var22 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 5);
             this.renderFaceXPos(par1Block, (double)par2, (double)par3, (double)par4, var22);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var22.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 this.colorRedTopLeft *= par5;
@@ -4947,6 +5240,8 @@
                 this.colorBlueTopRight *= par7;
                 this.renderFaceXPos(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var8 = true;
         }
@@ -4968,23 +5263,28 @@
         Tessellator var15 = Tessellator.instance;
         var15.setBrightness(983055);
 
+        // FCMOD: Code change
+        /*
         if (this.getBlockIcon(par1Block).getIconName().equals("grass_top"))
         {
             var13 = false;
         }
         else if (this.hasOverrideBlockTexture())
+        */
+        if (this.hasOverrideBlockTexture())
+        // END FCMOD
         {
             var13 = false;
         }
 
-        boolean var16;
         boolean var17;
-        boolean var18;
+        boolean var16;
         boolean var19;
-        int var20;
+        boolean var18;
         float var21;
+        int var20;
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 - 1, par4, 0))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 - 1, par4, 0))
         {
             if (this.renderMinY <= 0.0D)
             {
@@ -5070,8 +5370,10 @@
             this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNN, this.aoBrightnessXYPN, this.aoBrightnessXYZPNN, var20);
             this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYNN, this.aoBrightnessXYZNNN, this.aoBrightnessYZNN, var20);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 0, var9, var10, var11, var12))
             {
+            	if (RenderBlocksUtils.useColorMultiplier(0))
+                {
                 this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.5F;
                 this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.5F;
                 this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.5F;
@@ -5095,11 +5397,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+
             this.renderFaceYNeg(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0));
             var8 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 + 1, par4, 1))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 + 1, par4, 1))
         {
             if (this.renderMaxY >= 1.0D)
             {
@@ -5184,6 +5488,9 @@
             this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessYZPP, this.aoBrightnessXYZPPP, this.aoBrightnessXYPP, var20);
             this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessYZPN, this.aoBrightnessXYPP, this.aoBrightnessXYZPPN, var20);
             this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXYNP, this.aoBrightnessXYZNPN, this.aoBrightnessYZPN, var20);
+            
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 1, var9, var10, var11, var12))
+            {
             this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5;
             this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6;
             this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7;
@@ -5199,21 +5506,23 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+            
             this.renderFaceYPos(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 1));
             var8 = true;
         }
 
-        float var22;
         float var23;
-        float var24;
+        float var22;
         float var25;
-        int var26;
+        float var24;
         int var27;
-        int var28;
+        int var26;
         int var29;
+        int var28;
         Icon var30;
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 - 1, 2))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 - 1, 2))
         {
             if (this.renderMinZ <= 0.0D)
             {
@@ -5307,8 +5616,10 @@
             this.brightnessBottomRight = this.mixAoBrightness(var26, var27, var28, var29, this.renderMinY * (1.0D - this.renderMaxX), this.renderMinY * this.renderMaxX, (1.0D - this.renderMinY) * this.renderMaxX, (1.0D - this.renderMinY) * (1.0D - this.renderMaxX));
             this.brightnessTopRight = this.mixAoBrightness(var26, var27, var28, var29, this.renderMinY * (1.0D - this.renderMinX), this.renderMinY * this.renderMinX, (1.0D - this.renderMinY) * this.renderMinX, (1.0D - this.renderMinY) * (1.0D - this.renderMinX));
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 2, var9, var10, var11, var12))
             {
+            	if (RenderBlocksUtils.useColorMultiplier(2))
+                {
                 this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.8F;
                 this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.8F;
                 this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.8F;
@@ -5332,9 +5643,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+            
             var30 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 2);
             this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, var30);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var30.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 this.colorRedTopLeft *= par5;
@@ -5351,11 +5666,13 @@
                 this.colorBlueTopRight *= par7;
                 this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var8 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 + 1, 3))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 + 1, 3))
         {
             if (this.renderMaxZ >= 1.0D)
             {
@@ -5449,8 +5766,10 @@
             this.brightnessBottomRight = this.mixAoBrightness(var26, var29, var28, var27, this.renderMinY * (1.0D - this.renderMaxX), (1.0D - this.renderMinY) * (1.0D - this.renderMaxX), (1.0D - this.renderMinY) * this.renderMaxX, this.renderMinY * this.renderMaxX);
             this.brightnessTopRight = this.mixAoBrightness(var26, var29, var28, var27, this.renderMaxY * (1.0D - this.renderMaxX), (1.0D - this.renderMaxY) * (1.0D - this.renderMaxX), (1.0D - this.renderMaxY) * this.renderMaxX, this.renderMaxY * this.renderMaxX);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 3, var9, var10, var11, var12))
             {
+            	if (RenderBlocksUtils.useColorMultiplier(3))
+                {
                 this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.8F;
                 this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.8F;
                 this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.8F;
@@ -5474,9 +5793,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+
             var30 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 3);
             this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 3));
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var30.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 this.colorRedTopLeft *= par5;
@@ -5493,11 +5816,13 @@
                 this.colorBlueTopRight *= par7;
                 this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var8 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 - 1, par3, par4, 4))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 - 1, par3, par4, 4))
         {
             if (this.renderMinX <= 0.0D)
             {
@@ -5591,8 +5916,10 @@
             this.brightnessBottomRight = this.mixAoBrightness(var27, var28, var29, var26, this.renderMinY * this.renderMinZ, this.renderMinY * (1.0D - this.renderMinZ), (1.0D - this.renderMinY) * (1.0D - this.renderMinZ), (1.0D - this.renderMinY) * this.renderMinZ);
             this.brightnessTopRight = this.mixAoBrightness(var27, var28, var29, var26, this.renderMinY * this.renderMaxZ, this.renderMinY * (1.0D - this.renderMaxZ), (1.0D - this.renderMinY) * (1.0D - this.renderMaxZ), (1.0D - this.renderMinY) * this.renderMaxZ);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 4, var9, var10, var11, var12))
             {
+            	if (RenderBlocksUtils.useColorMultiplier(4))
+                {
                 this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.6F;
                 this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.6F;
                 this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.6F;
@@ -5616,9 +5943,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+            
             var30 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 4);
             this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, var30);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var30.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 this.colorRedTopLeft *= par5;
@@ -5635,11 +5966,13 @@
                 this.colorBlueTopRight *= par7;
                 this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var8 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 + 1, par3, par4, 5))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 + 1, par3, par4, 5))
         {
             if (this.renderMaxX >= 1.0D)
             {
@@ -5733,8 +6066,10 @@
             this.brightnessBottomRight = this.mixAoBrightness(var26, var29, var28, var27, (1.0D - this.renderMaxY) * this.renderMinZ, (1.0D - this.renderMaxY) * (1.0D - this.renderMinZ), this.renderMaxY * (1.0D - this.renderMinZ), this.renderMaxY * this.renderMinZ);
             this.brightnessTopRight = this.mixAoBrightness(var26, var29, var28, var27, (1.0D - this.renderMaxY) * this.renderMaxZ, (1.0D - this.renderMaxY) * (1.0D - this.renderMaxZ), this.renderMaxY * (1.0D - this.renderMaxZ), this.renderMaxY * this.renderMaxZ);
 
-            if (var13)
+            if (!ColorizeBlock.setupBlockSmoothing(this, par1Block, this.blockAccess, par2, par3, par4, 5, var9, var10, var11, var12))
             {
+            	if (RenderBlocksUtils.useColorMultiplier(5))
+                {
                 this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5 * 0.6F;
                 this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6 * 0.6F;
                 this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7 * 0.6F;
@@ -5758,9 +6093,13 @@
             this.colorRedTopRight *= var12;
             this.colorGreenTopRight *= var12;
             this.colorBlueTopRight *= var12;
+            }
+            
             var30 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 5);
             this.renderFaceXPos(par1Block, (double)par2, (double)par3, (double)par4, var30);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var30.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 this.colorRedTopLeft *= par5;
@@ -5777,6 +6116,8 @@
                 this.colorBlueTopRight *= par7;
                 this.renderFaceXPos(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var8 = true;
         }
@@ -5827,112 +6168,129 @@
         float var11 = 1.0F;
         float var12 = 0.8F;
         float var13 = 0.6F;
-        float var14 = var11 * par5;
-        float var15 = var11 * par6;
-        float var16 = var11 * par7;
-        float var17 = var10;
+        float var10000 = var11 * par5;
+        var10000 = var11 * par6;
+        var10000 = var11 * par7;
         float var18 = var12;
         float var19 = var13;
-        float var20 = var10;
         float var21 = var12;
         float var22 = var13;
-        float var23 = var10;
         float var24 = var12;
         float var25 = var13;
 
+        // FCMOD: Code removed
+        /*
         if (par1Block != Block.grass)
+        */
+        // END FCMOD
         {
-            var17 = var10 * par5;
+        	var10000 = var10 * par5;
             var18 = var12 * par5;
             var19 = var13 * par5;
-            var20 = var10 * par6;
+            float var20 = var10 * par6;
             var21 = var12 * par6;
             var22 = var13 * par6;
-            var23 = var10 * par7;
+            float var23 = var10 * par7;
             var24 = var12 * par7;
             var25 = var13 * par7;
         }
 
         int var26 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4);
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 - 1, par4, 0))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 - 1, par4, 0))
         {
             var8.setBrightness(this.renderMinY > 0.0D ? var26 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4));
-            var8.setColorOpaque_F(var17, var20, var23);
+            var8.setColorOpaque_F(RenderBlocksUtils.getColorMultiplierRed(0), RenderBlocksUtils.getColorMultiplierGreen(0), RenderBlocksUtils.getColorMultiplierBlue(0));
             this.renderFaceYNeg(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0));
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 + 1, par4, 1))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 + 1, par4, 1))
         {
             var8.setBrightness(this.renderMaxY < 1.0D ? var26 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4));
-            var8.setColorOpaque_F(var14, var15, var16);
+            var8.setColorOpaque_F(RenderBlocksUtils.getColorMultiplierRed(1), RenderBlocksUtils.getColorMultiplierGreen(1), RenderBlocksUtils.getColorMultiplierBlue(1));
             this.renderFaceYPos(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 1));
             var9 = true;
         }
 
         Icon var28;
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 - 1, 2))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 - 1, 2))
         {
             var8.setBrightness(this.renderMinZ > 0.0D ? var26 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 - 1));
-            var8.setColorOpaque_F(var18, var21, var24);
+            var8.setColorOpaque_F(RenderBlocksUtils.getColorMultiplierRed(2), RenderBlocksUtils.getColorMultiplierGreen(2), RenderBlocksUtils.getColorMultiplierBlue(2));
             var28 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 2);
             this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, var28);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var28.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 var8.setColorOpaque_F(var18 * par5, var21 * par6, var24 * par7);
                 this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 + 1, 3))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 + 1, 3))
         {
             var8.setBrightness(this.renderMaxZ < 1.0D ? var26 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 + 1));
-            var8.setColorOpaque_F(var18, var21, var24);
+            var8.setColorOpaque_F(RenderBlocksUtils.getColorMultiplierRed(3), RenderBlocksUtils.getColorMultiplierGreen(3), RenderBlocksUtils.getColorMultiplierBlue(3));
             var28 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 3);
             this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, var28);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var28.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 var8.setColorOpaque_F(var18 * par5, var21 * par6, var24 * par7);
                 this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 - 1, par3, par4, 4))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 - 1, par3, par4, 4))
         {
             var8.setBrightness(this.renderMinX > 0.0D ? var26 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4));
-            var8.setColorOpaque_F(var19, var22, var25);
+            var8.setColorOpaque_F(RenderBlocksUtils.getColorMultiplierRed(4), RenderBlocksUtils.getColorMultiplierGreen(4), RenderBlocksUtils.getColorMultiplierBlue(4));
             var28 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 4);
             this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, var28);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var28.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 var8.setColorOpaque_F(var19 * par5, var22 * par6, var25 * par7);
                 this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 + 1, par3, par4, 5))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 + 1, par3, par4, 5))
         {
             var8.setBrightness(this.renderMaxX < 1.0D ? var26 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4));
-            var8.setColorOpaque_F(var19, var22, var25);
+            var8.setColorOpaque_F(RenderBlocksUtils.getColorMultiplierRed(5), RenderBlocksUtils.getColorMultiplierGreen(5), RenderBlocksUtils.getColorMultiplierBlue(5));
             var28 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 5);
             this.renderFaceXPos(par1Block, (double)par2, (double)par3, (double)par4, var28);
 
+            // FCMOD: Code removed
+            /*
             if (fancyGrass && var28.getIconName().equals("grass_side") && !this.hasOverrideBlockTexture())
             {
                 var8.setColorOpaque_F(var19 * par5, var22 * par6, var25 * par7);
                 this.renderFaceXPos(par1Block, (double)par2, (double)par3, (double)par4, BlockGrass.getIconSideOverlay());
             }
+            */
+            // END FCMOD
 
             var9 = true;
         }
@@ -6129,6 +6487,8 @@
         float var7 = (float)(var5 >> 8 & 255) / 255.0F;
         float var8 = (float)(var5 & 255) / 255.0F;
 
+        // FCMOD: Code removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             float var9 = (var6 * 30.0F + var7 * 59.0F + var8 * 11.0F) / 100.0F;
@@ -6138,6 +6498,8 @@
             var7 = var10;
             var8 = var11;
         }
+        */
+        // END FCMOD
 
         return this.renderBlockCactusImpl(par1Block, par2, par3, par4, var6, var7, var8);
     }
@@ -6168,7 +6530,7 @@
         float var26 = 0.0625F;
         int var28 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4);
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 - 1, par4, 0))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 - 1, par4, 0))
         {
             var8.setBrightness(this.renderMinY > 0.0D ? var28 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4));
             var8.setColorOpaque_F(var14, var18, var22);
@@ -6176,7 +6538,7 @@
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 + 1, par4, 1))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3 + 1, par4, 1))
         {
             var8.setBrightness(this.renderMaxY < 1.0D ? var28 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4));
             var8.setColorOpaque_F(var15, var19, var23);
@@ -6184,7 +6546,7 @@
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 - 1, 2))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 - 1, 2))
         {
             var8.setBrightness(this.renderMinZ > 0.0D ? var28 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 - 1));
             var8.setColorOpaque_F(var16, var20, var24);
@@ -6194,7 +6556,7 @@
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 + 1, 3))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2, par3, par4 + 1, 3))
         {
             var8.setBrightness(this.renderMaxZ < 1.0D ? var28 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 + 1));
             var8.setColorOpaque_F(var16, var20, var24);
@@ -6204,7 +6566,7 @@
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 - 1, par3, par4, 4))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 - 1, par3, par4, 4))
         {
             var8.setBrightness(this.renderMinX > 0.0D ? var28 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4));
             var8.setColorOpaque_F(var17, var21, var25);
@@ -6214,7 +6576,7 @@
             var9 = true;
         }
 
-        if (this.renderAllFaces || par1Block.shouldSideBeRendered(this.blockAccess, par2 + 1, par3, par4, 5))
+        if (this.renderAllFaces || RenderPass.shouldSideBeRendered(par1Block, this.blockAccess, par2 + 1, par3, par4, 5))
         {
             var8.setBrightness(this.renderMaxX < 1.0D ? var28 : par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4));
             var8.setColorOpaque_F(var17, var21, var25);
@@ -6315,6 +6677,10 @@
         boolean var10 = !var7 && !var8 && var5 && var6;
         boolean var11 = this.blockAccess.isAirBlock(par2, par3 + 1, par4);
 
+        // FCMOD: Added
+    	var11 = var11 || FCUtilsWorld.IsGroundCoverOnBlock( blockAccess, par2, par3, par4 );
+        // END FCMOD
+
         if ((var9 || var10) && var11)
         {
             if (var9)
@@ -6457,8 +6823,8 @@
 
         this.renderAllFaces = true;
         float var15;
-        float var16;
         float var17;
+        float var16;
         float var18;
 
         if (var8 != 3 && var8 != 1)
@@ -6626,6 +6992,8 @@
         float var9 = (float)(var7 >> 8 & 255) / 255.0F;
         float var10 = (float)(var7 & 255) / 255.0F;
 
+        // FCMOD: Code removed
+        /*
         if (EntityRenderer.anaglyphEnable)
         {
             float var11 = (var8 * 30.0F + var9 * 59.0F + var10 * 11.0F) / 100.0F;
@@ -6635,6 +7003,8 @@
             var9 = var12;
             var10 = var13;
         }
+        */
+        // END FCMOD
 
         var5.setColorOpaque_F(var6 * var8, var6 * var9, var6 * var10);
         return this.renderBlockHopperMetadata(par1BlockHopper, par2, par3, par4, this.blockAccess.getBlockMetadata(par2, par3, par4), false);
@@ -6651,27 +7021,27 @@
         {
             var7.startDrawingQuads();
             var7.setNormal(0.0F, -1.0F, 0.0F);
-            this.renderFaceYNeg(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockHopper, 0, par5));
+            this.renderFaceYNeg(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockHopper, 0, par5) : this.getBlockIcon(par1BlockHopper, this.blockAccess, par2, par3, par4, 0));
             var7.draw();
             var7.startDrawingQuads();
             var7.setNormal(0.0F, 1.0F, 0.0F);
-            this.renderFaceYPos(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockHopper, 1, par5));
+            this.renderFaceYPos(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockHopper, 1, par5) : this.getBlockIcon(par1BlockHopper, this.blockAccess, par2, par3, par4, 1));
             var7.draw();
             var7.startDrawingQuads();
             var7.setNormal(0.0F, 0.0F, -1.0F);
-            this.renderFaceZNeg(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockHopper, 2, par5));
+            this.renderFaceZNeg(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockHopper, 2, par5) : this.getBlockIcon(par1BlockHopper, this.blockAccess, par2, par3, par4, 2));
             var7.draw();
             var7.startDrawingQuads();
             var7.setNormal(0.0F, 0.0F, 1.0F);
-            this.renderFaceZPos(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockHopper, 3, par5));
+            this.renderFaceZPos(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockHopper, 3, par5) : this.getBlockIcon(par1BlockHopper, this.blockAccess, par2, par3, par4, 3));
             var7.draw();
             var7.startDrawingQuads();
             var7.setNormal(-1.0F, 0.0F, 0.0F);
-            this.renderFaceXNeg(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockHopper, 4, par5));
+            this.renderFaceXNeg(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockHopper, 4, par5) : this.getBlockIcon(par1BlockHopper, this.blockAccess, par2, par3, par4, 4));
             var7.draw();
             var7.startDrawingQuads();
             var7.setNormal(1.0F, 0.0F, 0.0F);
-            this.renderFaceXPos(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1BlockHopper, 5, par5));
+            this.renderFaceXPos(par1BlockHopper, 0.0D, 0.0D, 0.0D, this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(par1BlockHopper, 5, par5) : this.getBlockIcon(par1BlockHopper, this.blockAccess, par2, par3, par4, 5));
             var7.draw();
         }
         else
@@ -6690,6 +7060,8 @@
             float var14 = (float)(var12 >> 8 & 255) / 255.0F;
             float var15 = (float)(var12 & 255) / 255.0F;
 
+            // FCMOD: Code removed
+            /*
             if (EntityRenderer.anaglyphEnable)
             {
                 float var16 = (var13 * 30.0F + var14 * 59.0F + var15 * 11.0F) / 100.0F;
@@ -6699,6 +7071,8 @@
                 var14 = var17;
                 var15 = var18;
             }
+            */
+            // END FCMOD
 
             var7.setColorOpaque_F(var11 * var13, var11 * var14, var11 * var15);
         }
@@ -7546,7 +7920,11 @@
     /**
      * Is called to render the image of a block on an inventory, as a held item, or as a an item on the ground
      */
+    // FCMOD: Changed (client only)
+    /*
     public void renderBlockAsItem(Block par1Block, int par2, float par3)
+    */
+    public void renderBlockAsItemVanilla(Block par1Block, int par2, float par3)    
     {
         Tessellator var4 = Tessellator.instance;
         boolean var5 = par1Block.blockID == Block.grass.blockID;
@@ -7593,7 +7971,9 @@
             {
                 var4.startDrawingQuads();
                 var4.setNormal(0.0F, -1.0F, 0.0F);
-                par1Block.setBlockBoundsForItemRender();
+                // FCMOD: Removed
+                //par1Block.setBlockBoundsForItemRender();
+                // END FCMOD
                 this.renderBlockStemSmall(par1Block, par2, this.renderMaxY, -0.5D, -0.5D, -0.5D);
                 var4.draw();
             }
@@ -7601,12 +7981,16 @@
             {
                 var4.startDrawingQuads();
                 var4.setNormal(0.0F, -1.0F, 0.0F);
-                par1Block.setBlockBoundsForItemRender();
+                // FCMOD: Removed
+                //par1Block.setBlockBoundsForItemRender();
+                // END FCMOD
                 var4.draw();
             }
             else if (var6 == 13)
             {
-                par1Block.setBlockBoundsForItemRender();
+                // FCMOD: Removed
+                //par1Block.setBlockBoundsForItemRender();
+                // END FCMOD
                 GL11.glTranslatef(-0.5F, -0.5F, -0.5F);
                 var7 = 0.0625F;
                 var4.startDrawingQuads();
@@ -7681,27 +8065,57 @@
                     GL11.glTranslatef(-0.5F, -0.5F, -0.5F);
                     var4.startDrawingQuads();
                     var4.setNormal(0.0F, -1.0F, 0.0F);
+                    // FCMOD: Change to pass along item damage as metadata
+                    /*
                     this.renderFaceYNeg(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSide(par1Block, 0));
+                    */
+                    this.renderFaceYNeg(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1Block, 0, par2));
+                    // END FCMOD
                     var4.draw();
                     var4.startDrawingQuads();
                     var4.setNormal(0.0F, 1.0F, 0.0F);
+                    // FCMOD: Change to pass along item damage as metadata
+                    /*
                     this.renderFaceYPos(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSide(par1Block, 1));
+                    */
+                    this.renderFaceYPos(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata( par1Block, 1, par2));
+                    // END FCMOD
                     var4.draw();
                     var4.startDrawingQuads();
                     var4.setNormal(0.0F, 0.0F, -1.0F);
+                    // FCMOD: Change to pass along item damage as metadata
+                    /*
                     this.renderFaceZNeg(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSide(par1Block, 2));
+                    */
+                    this.renderFaceZNeg(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1Block, 2, par2));
+                    // END FCMOD
                     var4.draw();
                     var4.startDrawingQuads();
                     var4.setNormal(0.0F, 0.0F, 1.0F);
+                    // FCMOD: Change to pass along item damage as metadata
+                    /*
                     this.renderFaceZPos(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSide(par1Block, 3));
+                    */
+                    this.renderFaceZPos(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1Block, 3, par2));
+                    // END FCMOD
                     var4.draw();
                     var4.startDrawingQuads();
                     var4.setNormal(-1.0F, 0.0F, 0.0F);
+                    // FCMOD: Change to pass along item damage as metadata
+                    /*
                     this.renderFaceXNeg(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSide(par1Block, 4));
+                    */
+                    this.renderFaceXNeg(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1Block, 4, par2));
+                    // END FCMOD
                     var4.draw();
                     var4.startDrawingQuads();
                     var4.setNormal(1.0F, 0.0F, 0.0F);
+                    // FCMOD: Change to pass along item damage as metadata
+                    /*
                     this.renderFaceXPos(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSide(par1Block, 5));
+                    */
+                    this.renderFaceXPos(par1Block, 0.0D, 0.0D, 0.0D, this.getBlockIconFromSideAndMetadata(par1Block, 5, par2));
+                    // END FCMOD
                     var4.draw();
                     GL11.glTranslatef(0.5F, 0.5F, 0.5F);
                 }
@@ -8008,8 +8422,11 @@
                 par2 = 1;
             }
 
-            par1Block.setBlockBoundsForItemRender();
-            this.setRenderBoundsFromBlock(par1Block);
+            // FCMOD: Changed
+            //par1Block.setBlockBoundsForItemRender();
+            //this.setRenderBoundsFromBlock(par1Block);
+            setRenderBounds( par1Block.GetBlockBoundsFromPoolForItemRender( par2 ) );
+            // END FCMOD
             GL11.glRotatef(90.0F, 0.0F, 1.0F, 0.0F);
             GL11.glTranslatef(-0.5F, -0.5F, -0.5F);
             var4.startDrawingQuads();
@@ -8059,24 +8476,29 @@
     /**
      * Checks to see if the item's render type indicates that it should be rendered as a regular block or not.
      */
+    // FCMOD: Code change
+    /*
     public static boolean renderItemIn3d(int par0)
+    */
+    public static boolean DoesRenderIDRenderItemIn3d(int par0)
+    // END FCMOD
     {
         return par0 == 0 ? true : (par0 == 31 ? true : (par0 == 39 ? true : (par0 == 13 ? true : (par0 == 10 ? true : (par0 == 11 ? true : (par0 == 27 ? true : (par0 == 22 ? true : (par0 == 21 ? true : (par0 == 16 ? true : (par0 == 26 ? true : (par0 == 32 ? true : (par0 == 34 ? true : par0 == 35))))))))))));
     }
 
     public Icon getBlockIcon(Block par1Block, IBlockAccess par2IBlockAccess, int par3, int par4, int par5, int par6)
     {
-        return this.getIconSafe(par1Block.getBlockTexture(par2IBlockAccess, par3, par4, par5, par6));
+    	return CTMUtils.getBlockIcon(this.getIconSafe(par1Block.getBlockTexture(par2IBlockAccess, par3, par4, par5, par6)), this, par1Block, par2IBlockAccess, par3, par4, par5, par6);
     }
 
     public Icon getBlockIconFromSideAndMetadata(Block par1Block, int par2, int par3)
     {
-        return this.getIconSafe(par1Block.getIcon(par2, par3));
+    	return CTMUtils.getBlockIcon(this.getIconSafe(par1Block.getIcon(par2, par3)), this, par1Block, par2, par3);
     }
 
     public Icon getBlockIconFromSide(Block par1Block, int par2)
     {
-        return this.getIconSafe(par1Block.getBlockTextureFromSide(par2));
+    	return CTMUtils.getBlockIcon(this.getIconSafe(par1Block.getBlockTextureFromSide(par2)), this, par1Block, par2);
     }
 
     public Icon getBlockIcon(Block par1Block)
@@ -8088,4 +8510,2423 @@
     {
         return par1Icon == null ? this.minecraftRB.renderEngine.getMissingIcon(0) : par1Icon;
     }
+    
+    // FCMOD: Added New
+    public boolean renderBlockFluids( Block block, int i, int j, int k )
+    {
+        BlockFluid.bIsAnySideBeingRendered = false;
+        
+        boolean bRenderTop = RenderPass.shouldSideBeRendered(block, this.blockAccess, i, j + 1, k, 1);
+        boolean bRenderBottom = RenderPass.shouldSideBeRendered(block, this.blockAccess, i, j - 1, k, 0);
+        boolean[] bRenderSides = new boolean[] {RenderPass.shouldSideBeRendered(block, this.blockAccess, i, j, k - 1, 2), RenderPass.shouldSideBeRendered(block, this.blockAccess, i, j, k + 1, 3), RenderPass.shouldSideBeRendered(block, this.blockAccess, i - 1, j, k, 4), RenderPass.shouldSideBeRendered(block, this.blockAccess, i + 1, j, k, 5)};
+
+        if ( !BlockFluid.bIsAnySideBeingRendered )
+        {
+            return false;
 }
+        
+        Tessellator tesselator = Tessellator.instance;
+        
+        int iColor = block.colorMultiplier( blockAccess, i, j, k );
+        
+        float fRed = (float)(iColor >> 16 & 255) / 255.0F;
+        float fGreen = (float)(iColor >> 8 & 255) / 255.0F;
+        float fBlue = (float)(iColor & 255) / 255.0F;
+
+        float var14 = 0.5F;
+        float var15 = 1.0F;
+        float var16 = 0.8F;
+        float var17 = 0.6F;
+        
+        double var18 = 0.0D;
+        double var20 = 1.0D;
+        
+        Material material = block.blockMaterial;
+        int iMetadata = this.blockAccess.getBlockMetadata(i, j, k);
+        
+        double var24 = (double)this.getFluidHeight(i, j, k, material);
+        double var26 = (double)this.getFluidHeight(i, j, k + 1, material);
+        double var28 = (double)this.getFluidHeight(i + 1, j, k + 1, material);
+        double var30 = (double)this.getFluidHeight(i + 1, j, k, material);
+        
+        double var32 = 0.0010000000474974513D;
+        float var34;
+        float var35;
+        double var42;
+        double var40;
+        double var46;
+        double var44;
+        double var50;
+        double var48;
+
+        if ( bRenderTop )
+        {
+            Icon var36 = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(block, 1, iMetadata) : this.getBlockIcon(block, this.blockAccess, i, j, k, 1);
+            float var37 = (float)BlockFluid.getFlowDirection(this.blockAccess, i, j, k, material);
+
+            if (var37 > -999.0F)
+            {
+                var36 = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(block, 2, iMetadata) : this.getBlockIcon(block, this.blockAccess, i, j, k, 2);
+            }
+
+            var24 -= var32;
+            var26 -= var32;
+            var28 -= var32;
+            var30 -= var32;
+            double var38;
+            double var52;
+
+            if (var37 < -999.0F)
+            {
+                var40 = (double)var36.getInterpolatedU(0.0D);
+                var48 = (double)var36.getInterpolatedV(0.0D);
+                var38 = var40;
+                var46 = (double)var36.getInterpolatedV(16.0D);
+                var44 = (double)var36.getInterpolatedU(16.0D);
+                var52 = var46;
+                var42 = var44;
+                var50 = var48;
+            }
+            else
+            {
+                var35 = MathHelper.sin(var37) * 0.25F;
+                var34 = MathHelper.cos(var37) * 0.25F;
+                var40 = (double)var36.getInterpolatedU((double)(8.0F + (-var34 - var35) * 16.0F));
+                var48 = (double)var36.getInterpolatedV((double)(8.0F + (-var34 + var35) * 16.0F));
+                var38 = (double)var36.getInterpolatedU((double)(8.0F + (-var34 + var35) * 16.0F));
+                var46 = (double)var36.getInterpolatedV((double)(8.0F + (var34 + var35) * 16.0F));
+                var44 = (double)var36.getInterpolatedU((double)(8.0F + (var34 + var35) * 16.0F));
+                var52 = (double)var36.getInterpolatedV((double)(8.0F + (var34 - var35) * 16.0F));
+                var42 = (double)var36.getInterpolatedU((double)(8.0F + (var34 - var35) * 16.0F));
+                var50 = (double)var36.getInterpolatedV((double)(8.0F + (-var34 - var35) * 16.0F));
+            }
+
+            tesselator.setBrightness(block.getMixedBrightnessForBlock(this.blockAccess, i, j, k));
+            var35 = 1.0F;
+            
+            ColorizeBlock.isSmooth = ColorizeBlock.setupBlockSmoothing(this, block, this.blockAccess, i, j, k, 1 + 6);
+
+            if (!ColorizeBlock.isSmooth)
+            {
+                tesselator.setColorOpaque_F(var15 * var35 * fRed, var15 * var35 * fGreen, var15 * var35 * fBlue);
+            }
+
+            if (ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            	tesselator.addVertexWithUV((double)(i + 0), (double)j + var24, (double)(k + 0), var40, var48);
+            	tesselator.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            	tesselator.addVertexWithUV((double)(i + 0), (double)j + var26, (double)(k + 1), var38, var46);
+            	tesselator.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            	tesselator.addVertexWithUV((double)(i + 1), (double)j + var28, (double)(k + 1), var44, var52);
+            	tesselator.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            	tesselator.addVertexWithUV((double)(i + 1), (double)j + var30, (double)(k + 0), var42, var50);
+            }
+            else
+            {
+            	tesselator.addVertexWithUV((double)(i + 0), (double)j + var24, (double)(k + 0), var40, var48);
+            	tesselator.addVertexWithUV((double)(i + 0), (double)j + var26, (double)(k + 1), var38, var46);
+            	tesselator.addVertexWithUV((double)(i + 1), (double)j + var28, (double)(k + 1), var44, var52);
+            	tesselator.addVertexWithUV((double)(i + 1), (double)j + var30, (double)(k + 0), var42, var50);
+            }
+        }
+
+        if ( bRenderBottom )
+        {
+            tesselator.setBrightness(block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k));
+            float var58 = 1.0F;
+            ColorizeBlock.isSmooth = ColorizeBlock.setupBlockSmoothing(this, block, this.blockAccess, i, j, k, 0 + 6);
+
+            if (!ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(var14 * var58, var14 * var58, var14 * var58);
+            }
+
+            if (ColorizeBlock.isSmooth)
+            {
+                this.enableAO = true;
+            }
+
+            double var10002 = (double)i;
+            double var10003 = (double)j + var32;
+            double var10004 = (double)k;
+            Icon var10005 = this.blockAccess == null ? this.getBlockIconFromSide(block, 0) : this.getBlockIcon(block, this.blockAccess, i, j, k, 0);
+            this.enableAO = false;
+            this.renderFaceYNeg(block, var10002, var10003, var10004, var10005);
+        }
+
+        if ( bRenderSides[0] )
+        {
+            Icon texture = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(block, 2, iMetadata) : this.getBlockIcon(block, this.blockAccess, i, j, k, 2);
+
+            var40 = var24;
+            var44 = var30;
+            var42 = (double)i;
+            var46 = (double)(i + 1);
+            var48 = (double)k + var32;
+            var50 = (double)k + var32;
+            
+            float var60 = texture.getInterpolatedU(0.0D);
+            var35 = texture.getInterpolatedU(8.0D);
+            var34 = texture.getInterpolatedV((1.0D - var40) * 16.0D * 0.5D);
+            float var53 = texture.getInterpolatedV((1.0D - var44) * 16.0D * 0.5D);
+            float var54 = texture.getInterpolatedV(8.0D);
+            tesselator.setBrightness(block.getMixedBrightnessForBlock(this.blockAccess, i, j, k - 1));
+            float var55 = var16;
+            
+            ColorizeBlock.isSmooth = ColorizeBlock.setupBlockSmoothing(this, block, this.blockAccess, i, j, k, 0 + 2 + 6);
+
+            if (!ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(var15 * var55 * fRed, var15 * var55 * fGreen, var15 * var55 * fBlue);
+            }
+
+            if (ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            	tesselator.addVertexWithUV(var42, (double)j + var40, var48, (double)var60, (double)var34);
+            	tesselator.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            	tesselator.addVertexWithUV(var46, (double)j + var44, var50, (double)var35, (double)var53);
+            	tesselator.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            	tesselator.addVertexWithUV(var46, (double)(j + 0), var50, (double)var35, (double)var54);
+            	tesselator.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            	tesselator.addVertexWithUV(var42, (double)(j + 0), var48, (double)var60, (double)var54);
+            }
+            else
+            {
+            	tesselator.addVertexWithUV(var42, (double)j + var40, var48, (double)var60, (double)var34);
+                tesselator.addVertexWithUV(var46, (double)j + var44, var50, (double)var35, (double)var53);
+                tesselator.addVertexWithUV(var46, (double)(j + 0), var50, (double)var35, (double)var54);
+                tesselator.addVertexWithUV(var42, (double)(j + 0), var48, (double)var60, (double)var54);
+            }
+        }
+        
+        if ( bRenderSides[1] )
+        {
+            Icon texture = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(block, 3, iMetadata) : this.getBlockIcon(block, this.blockAccess, i, j, k, 3);
+
+            var40 = var28;
+            var44 = var26;
+            var42 = (double)(i + 1);
+            var46 = (double)i;
+            var48 = (double)(k + 1) - var32;
+            var50 = (double)(k + 1) - var32;
+
+            float var60 = texture.getInterpolatedU(0.0D);
+            var35 = texture.getInterpolatedU(8.0D);
+            var34 = texture.getInterpolatedV((1.0D - var40) * 16.0D * 0.5D);
+            float var53 = texture.getInterpolatedV((1.0D - var44) * 16.0D * 0.5D);
+            float var54 = texture.getInterpolatedV(8.0D);
+            tesselator.setBrightness(block.getMixedBrightnessForBlock(this.blockAccess, i, j, k + 1));
+            float var55 = var16;
+
+            ColorizeBlock.isSmooth = ColorizeBlock.setupBlockSmoothing(this, block, this.blockAccess, i, j, k, 1 + 2 + 6);
+
+            if (!ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(var15 * var55 * fRed, var15 * var55 * fGreen, var15 * var55 * fBlue);
+            }
+
+            if (ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            	tesselator.addVertexWithUV(var42, (double)j + var40, var48, (double)var60, (double)var34);
+            	tesselator.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            	tesselator.addVertexWithUV(var46, (double)j + var44, var50, (double)var35, (double)var53);
+            	tesselator.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            	tesselator.addVertexWithUV(var46, (double)(j + 0), var50, (double)var35, (double)var54);
+            	tesselator.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            	tesselator.addVertexWithUV(var42, (double)(j + 0), var48, (double)var60, (double)var54);
+            }
+            else
+            {
+            	tesselator.addVertexWithUV(var42, (double)j + var40, var48, (double)var60, (double)var34);
+                tesselator.addVertexWithUV(var46, (double)j + var44, var50, (double)var35, (double)var53);
+                tesselator.addVertexWithUV(var46, (double)(j + 0), var50, (double)var35, (double)var54);
+                tesselator.addVertexWithUV(var42, (double)(j + 0), var48, (double)var60, (double)var54);
+            }
+        }
+        
+        if ( bRenderSides[2] )
+        {
+            Icon texture = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(block, 4, iMetadata) : this.getBlockIcon(block, this.blockAccess, i, j, k, 4);
+
+            var40 = var26;
+            var44 = var24;
+            var42 = (double)i + var32;
+            var46 = (double)i + var32;
+            var48 = (double)(k + 1);
+            var50 = (double)k;
+
+            float var60 = texture.getInterpolatedU(0.0D);
+            var35 = texture.getInterpolatedU(8.0D);
+            var34 = texture.getInterpolatedV((1.0D - var40) * 16.0D * 0.5D);
+            float var53 = texture.getInterpolatedV((1.0D - var44) * 16.0D * 0.5D);
+            float var54 = texture.getInterpolatedV(8.0D);
+            
+            tesselator.setBrightness(block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k ));
+            
+            float var55 = var17;
+
+            ColorizeBlock.isSmooth = ColorizeBlock.setupBlockSmoothing(this, block, this.blockAccess, i, j, k, 2 + 2 + 6);
+
+            if (!ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(var15 * var55 * fRed, var15 * var55 * fGreen, var15 * var55 * fBlue);
+            }
+
+            if (ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            	tesselator.addVertexWithUV(var42, (double)j + var40, var48, (double)var60, (double)var34);
+            	tesselator.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            	tesselator.addVertexWithUV(var46, (double)j + var44, var50, (double)var35, (double)var53);
+            	tesselator.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            	tesselator.addVertexWithUV(var46, (double)(j + 0), var50, (double)var35, (double)var54);
+            	tesselator.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            	tesselator.addVertexWithUV(var42, (double)(j + 0), var48, (double)var60, (double)var54);
+            }
+            else
+            {
+            	tesselator.addVertexWithUV(var42, (double)j + var40, var48, (double)var60, (double)var34);
+                tesselator.addVertexWithUV(var46, (double)j + var44, var50, (double)var35, (double)var53);
+                tesselator.addVertexWithUV(var46, (double)(j + 0), var50, (double)var35, (double)var54);
+                tesselator.addVertexWithUV(var42, (double)(j + 0), var48, (double)var60, (double)var54);
+            }
+        }
+        
+        if ( bRenderSides[3] )
+        {
+            Icon texture = this.blockAccess == null ? this.getBlockIconFromSideAndMetadata(block, 5, iMetadata) : this.getBlockIcon(block, this.blockAccess, i, j, k, 5);
+
+            var40 = var30;
+            var44 = var28;
+            var42 = (double)(i + 1) - var32;
+            var46 = (double)(i + 1) - var32;
+            var48 = (double)k;
+            var50 = (double)(k + 1);
+
+            float var60 = texture.getInterpolatedU(0.0D);
+            var35 = texture.getInterpolatedU(8.0D);
+            var34 = texture.getInterpolatedV((1.0D - var40) * 16.0D * 0.5D);
+            float var53 = texture.getInterpolatedV((1.0D - var44) * 16.0D * 0.5D);
+            float var54 = texture.getInterpolatedV(8.0D);
+            
+            tesselator.setBrightness(block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k));
+            
+            float var55 = var17;
+
+            ColorizeBlock.isSmooth = ColorizeBlock.setupBlockSmoothing(this, block, this.blockAccess, i, j, k, 3 + 2 + 6);
+
+            if (!ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(var15 * var55 * fRed, var15 * var55 * fGreen, var15 * var55 * fBlue);
+            }
+
+            if (ColorizeBlock.isSmooth)
+            {
+            	tesselator.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            	tesselator.addVertexWithUV(var42, (double)j + var40, var48, (double)var60, (double)var34);
+            	tesselator.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            	tesselator.addVertexWithUV(var46, (double)j + var44, var50, (double)var35, (double)var53);
+            	tesselator.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            	tesselator.addVertexWithUV(var46, (double)(j + 0), var50, (double)var35, (double)var54);
+            	tesselator.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            	tesselator.addVertexWithUV(var42, (double)(j + 0), var48, (double)var60, (double)var54);
+            }
+            else
+            {
+            	tesselator.addVertexWithUV(var42, (double)j + var40, var48, (double)var60, (double)var34);
+                tesselator.addVertexWithUV(var46, (double)j + var44, var50, (double)var35, (double)var53);
+                tesselator.addVertexWithUV(var46, (double)(j + 0), var50, (double)var35, (double)var54);
+                tesselator.addVertexWithUV(var42, (double)(j + 0), var48, (double)var60, (double)var54);
+            }
+        }
+        
+        this.renderMinY = var18;
+        this.renderMaxY = var20;
+        
+        return true;
+    }
+    
+    public boolean renderGrassBlockWithAmbientOcclusion( Block par1Block, int par2, int par3, int par4, float par5, float par6, float par7, Icon sideOverlayIcon )
+    {
+        this.enableAO = true;
+        boolean var8 = false;
+        float var9 = 0.0F;
+        float var10 = 0.0F;
+        float var11 = 0.0F;
+        float var12 = 0.0F;
+        boolean var13 = true;
+        int var14 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4);
+        Tessellator var15 = Tessellator.instance;
+        var15.setBrightness(983055);
+
+        boolean var17;
+        boolean var16;
+        boolean var19;
+        boolean var18;
+        int var21;
+        float var20;
+        
+        if ( par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 - 1, par4, 0))
+        {
+            if (this.renderMinY <= 0.0D)
+            {
+                --par3;
+            }
+
+            this.aoBrightnessXYNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4);
+            this.aoBrightnessYZNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 - 1);
+            this.aoBrightnessYZNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 + 1);
+            this.aoBrightnessXYPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4);
+            this.aoLightValueScratchXYNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4);
+            this.aoLightValueScratchYZNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 - 1);
+            this.aoLightValueScratchYZNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 + 1);
+            this.aoLightValueScratchXYPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 + 1, par3 - 1, par4)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 - 1, par3 - 1, par4)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(par2, par3 - 1, par4 + 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(par2, par3 - 1, par4 - 1)];
+
+            if (!var18 && !var16)
+            {
+                this.aoLightValueScratchXYZNNN = this.aoLightValueScratchXYNN;
+                this.aoBrightnessXYZNNN = this.aoBrightnessXYNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4 - 1);
+                this.aoBrightnessXYZNNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4 - 1);
+            }
+
+            if (!var19 && !var16)
+            {
+                this.aoLightValueScratchXYZNNP = this.aoLightValueScratchXYNN;
+                this.aoBrightnessXYZNNP = this.aoBrightnessXYNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4 + 1);
+                this.aoBrightnessXYZNNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4 + 1);
+            }
+
+            if (!var18 && !var17)
+            {
+                this.aoLightValueScratchXYZPNN = this.aoLightValueScratchXYPN;
+                this.aoBrightnessXYZPNN = this.aoBrightnessXYPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4 - 1);
+                this.aoBrightnessXYZPNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4 - 1);
+            }
+
+            if (!var19 && !var17)
+            {
+                this.aoLightValueScratchXYZPNP = this.aoLightValueScratchXYPN;
+                this.aoBrightnessXYZPNP = this.aoBrightnessXYPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4 + 1);
+                this.aoBrightnessXYZPNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4 + 1);
+            }
+
+            if (this.renderMinY <= 0.0D)
+            {
+                ++par3;
+            }
+
+            var21 = var14;
+
+            if (this.renderMinY <= 0.0D || !this.blockAccess.isBlockOpaqueCube(par2, par3 - 1, par4))
+            {
+                var21 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4);
+            }
+
+            var20 = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4);
+            var9 = (this.aoLightValueScratchXYZNNP + this.aoLightValueScratchXYNN + this.aoLightValueScratchYZNP + var20) / 4.0F;
+            var12 = (this.aoLightValueScratchYZNP + var20 + this.aoLightValueScratchXYZPNP + this.aoLightValueScratchXYPN) / 4.0F;
+            var11 = (var20 + this.aoLightValueScratchYZNN + this.aoLightValueScratchXYPN + this.aoLightValueScratchXYZPNN) / 4.0F;
+            var10 = (this.aoLightValueScratchXYNN + this.aoLightValueScratchXYZNNN + var20 + this.aoLightValueScratchYZNN) / 4.0F;
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXYZNNP, this.aoBrightnessXYNN, this.aoBrightnessYZNP, var21);
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessYZNP, this.aoBrightnessXYZPNP, this.aoBrightnessXYPN, var21);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNN, this.aoBrightnessXYPN, this.aoBrightnessXYZPNN, var21);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYNN, this.aoBrightnessXYZNNN, this.aoBrightnessYZNN, var21);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.5F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.5F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.5F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            this.renderFaceYNeg(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 0));
+            var8 = true;
+        }
+
+        if ( par1Block.shouldSideBeRendered(this.blockAccess, par2, par3 + 1, par4, 1))
+        {
+            if (this.renderMaxY >= 1.0D)
+            {
+                ++par3;
+            }
+
+            this.aoBrightnessXYNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4);
+            this.aoBrightnessXYPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4);
+            this.aoBrightnessYZPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 - 1);
+            this.aoBrightnessYZPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 + 1);
+            this.aoLightValueScratchXYNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4);
+            this.aoLightValueScratchXYPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4);
+            this.aoLightValueScratchYZPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 - 1);
+            this.aoLightValueScratchYZPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 + 1);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 + 1, par3 + 1, par4)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 - 1, par3 + 1, par4)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(par2, par3 + 1, par4 + 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(par2, par3 + 1, par4 - 1)];
+
+            if (!var18 && !var16)
+            {
+                this.aoLightValueScratchXYZNPN = this.aoLightValueScratchXYNP;
+                this.aoBrightnessXYZNPN = this.aoBrightnessXYNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4 - 1);
+                this.aoBrightnessXYZNPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4 - 1);
+            }
+
+            if (!var18 && !var17)
+            {
+                this.aoLightValueScratchXYZPPN = this.aoLightValueScratchXYPP;
+                this.aoBrightnessXYZPPN = this.aoBrightnessXYPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4 - 1);
+                this.aoBrightnessXYZPPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4 - 1);
+            }
+
+            if (!var19 && !var16)
+            {
+                this.aoLightValueScratchXYZNPP = this.aoLightValueScratchXYNP;
+                this.aoBrightnessXYZNPP = this.aoBrightnessXYNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4 + 1);
+                this.aoBrightnessXYZNPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4 + 1);
+            }
+
+            if (!var19 && !var17)
+            {
+                this.aoLightValueScratchXYZPPP = this.aoLightValueScratchXYPP;
+                this.aoBrightnessXYZPPP = this.aoBrightnessXYPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4 + 1);
+                this.aoBrightnessXYZPPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4 + 1);
+            }
+
+            if (this.renderMaxY >= 1.0D)
+            {
+                --par3;
+            }
+
+            var21 = var14;
+
+            if (this.renderMaxY >= 1.0D || !this.blockAccess.isBlockOpaqueCube(par2, par3 + 1, par4))
+            {
+                var21 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4);
+            }
+
+            var20 = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4);
+            var12 = (this.aoLightValueScratchXYZNPP + this.aoLightValueScratchXYNP + this.aoLightValueScratchYZPP + var20) / 4.0F;
+            var9 = (this.aoLightValueScratchYZPP + var20 + this.aoLightValueScratchXYZPPP + this.aoLightValueScratchXYPP) / 4.0F;
+            var10 = (var20 + this.aoLightValueScratchYZPN + this.aoLightValueScratchXYPP + this.aoLightValueScratchXYZPPN) / 4.0F;
+            var11 = (this.aoLightValueScratchXYNP + this.aoLightValueScratchXYZNPN + var20 + this.aoLightValueScratchYZPN) / 4.0F;
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXYZNPP, this.aoBrightnessXYNP, this.aoBrightnessYZPP, var21);
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessYZPP, this.aoBrightnessXYZPPP, this.aoBrightnessXYPP, var21);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessYZPN, this.aoBrightnessXYPP, this.aoBrightnessXYZPPN, var21);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXYNP, this.aoBrightnessXYZNPN, this.aoBrightnessYZPN, var21);
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = par5;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = par6;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = par7;
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            this.renderFaceYPos(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 1));
+            var8 = true;
+        }
+
+        Icon var22;
+
+        if ( par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 - 1, 2))
+        {
+            if (this.renderMinZ <= 0.0D)
+            {
+                --par4;
+            }
+
+            this.aoLightValueScratchXZNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4);
+            this.aoLightValueScratchYZNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4);
+            this.aoLightValueScratchYZPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4);
+            this.aoLightValueScratchXZPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4);
+            this.aoBrightnessXZNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4);
+            this.aoBrightnessYZNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4);
+            this.aoBrightnessYZPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4);
+            this.aoBrightnessXZPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 + 1, par3, par4 - 1)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 - 1, par3, par4 - 1)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(par2, par3 + 1, par4 - 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(par2, par3 - 1, par4 - 1)];
+
+            if (!var16 && !var18)
+            {
+                this.aoLightValueScratchXYZNNN = this.aoLightValueScratchXZNN;
+                this.aoBrightnessXYZNNN = this.aoBrightnessXZNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3 - 1, par4);
+                this.aoBrightnessXYZNNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3 - 1, par4);
+            }
+
+            if (!var16 && !var19)
+            {
+                this.aoLightValueScratchXYZNPN = this.aoLightValueScratchXZNN;
+                this.aoBrightnessXYZNPN = this.aoBrightnessXZNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3 + 1, par4);
+                this.aoBrightnessXYZNPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3 + 1, par4);
+            }
+
+            if (!var17 && !var18)
+            {
+                this.aoLightValueScratchXYZPNN = this.aoLightValueScratchXZPN;
+                this.aoBrightnessXYZPNN = this.aoBrightnessXZPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3 - 1, par4);
+                this.aoBrightnessXYZPNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3 - 1, par4);
+            }
+
+            if (!var17 && !var19)
+            {
+                this.aoLightValueScratchXYZPPN = this.aoLightValueScratchXZPN;
+                this.aoBrightnessXYZPPN = this.aoBrightnessXZPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3 + 1, par4);
+                this.aoBrightnessXYZPPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3 + 1, par4);
+            }
+
+            if (this.renderMinZ <= 0.0D)
+            {
+                ++par4;
+            }
+
+            var21 = var14;
+
+            if (this.renderMinZ <= 0.0D || !this.blockAccess.isBlockOpaqueCube(par2, par3, par4 - 1))
+            {
+                var21 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 - 1);
+            }
+
+            var20 = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 - 1);
+            var9 = (this.aoLightValueScratchXZNN + this.aoLightValueScratchXYZNPN + var20 + this.aoLightValueScratchYZPN) / 4.0F;
+            var10 = (var20 + this.aoLightValueScratchYZPN + this.aoLightValueScratchXZPN + this.aoLightValueScratchXYZPPN) / 4.0F;
+            var11 = (this.aoLightValueScratchYZNN + var20 + this.aoLightValueScratchXYZPNN + this.aoLightValueScratchXZPN) / 4.0F;
+            var12 = (this.aoLightValueScratchXYZNNN + this.aoLightValueScratchXZNN + this.aoLightValueScratchYZNN + var20) / 4.0F;
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXZNN, this.aoBrightnessXYZNPN, this.aoBrightnessYZPN, var21);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessYZPN, this.aoBrightnessXZPN, this.aoBrightnessXYZPPN, var21);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNN, this.aoBrightnessXYZPNN, this.aoBrightnessXZPN, var21);
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXYZNNN, this.aoBrightnessXZNN, this.aoBrightnessYZNN, var21);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.8F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.8F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.8F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            var22 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 2);
+            this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, var22);
+
+            this.colorRedTopLeft *= par5;
+            this.colorRedBottomLeft *= par5;
+            this.colorRedBottomRight *= par5;
+            this.colorRedTopRight *= par5;
+            this.colorGreenTopLeft *= par6;
+            this.colorGreenBottomLeft *= par6;
+            this.colorGreenBottomRight *= par6;
+            this.colorGreenTopRight *= par6;
+            this.colorBlueTopLeft *= par7;
+            this.colorBlueBottomLeft *= par7;
+            this.colorBlueBottomRight *= par7;
+            this.colorBlueTopRight *= par7;
+            this.renderFaceZNeg(par1Block, (double)par2, (double)par3, (double)par4, sideOverlayIcon );
+
+            var8 = true;
+        }
+
+        if ( par1Block.shouldSideBeRendered(this.blockAccess, par2, par3, par4 + 1, 3))
+        {
+            if (this.renderMaxZ >= 1.0D)
+            {
+                ++par4;
+            }
+
+            this.aoLightValueScratchXZNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4);
+            this.aoLightValueScratchXZPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4);
+            this.aoLightValueScratchYZNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4);
+            this.aoLightValueScratchYZPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4);
+            this.aoBrightnessXZNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4);
+            this.aoBrightnessXZPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4);
+            this.aoBrightnessYZNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4);
+            this.aoBrightnessYZPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 + 1, par3, par4 + 1)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 - 1, par3, par4 + 1)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(par2, par3 + 1, par4 + 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(par2, par3 - 1, par4 + 1)];
+
+            if (!var16 && !var18)
+            {
+                this.aoLightValueScratchXYZNNP = this.aoLightValueScratchXZNP;
+                this.aoBrightnessXYZNNP = this.aoBrightnessXZNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3 - 1, par4);
+                this.aoBrightnessXYZNNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3 - 1, par4);
+            }
+
+            if (!var16 && !var19)
+            {
+                this.aoLightValueScratchXYZNPP = this.aoLightValueScratchXZNP;
+                this.aoBrightnessXYZNPP = this.aoBrightnessXZNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3 + 1, par4);
+                this.aoBrightnessXYZNPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3 + 1, par4);
+            }
+
+            if (!var17 && !var18)
+            {
+                this.aoLightValueScratchXYZPNP = this.aoLightValueScratchXZPP;
+                this.aoBrightnessXYZPNP = this.aoBrightnessXZPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3 - 1, par4);
+                this.aoBrightnessXYZPNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3 - 1, par4);
+            }
+
+            if (!var17 && !var19)
+            {
+                this.aoLightValueScratchXYZPPP = this.aoLightValueScratchXZPP;
+                this.aoBrightnessXYZPPP = this.aoBrightnessXZPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3 + 1, par4);
+                this.aoBrightnessXYZPPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3 + 1, par4);
+            }
+
+            if (this.renderMaxZ >= 1.0D)
+            {
+                --par4;
+            }
+
+            var21 = var14;
+
+            if (this.renderMaxZ >= 1.0D || !this.blockAccess.isBlockOpaqueCube(par2, par3, par4 + 1))
+            {
+                var21 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 + 1);
+            }
+
+            var20 = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 + 1);
+            var9 = (this.aoLightValueScratchXZNP + this.aoLightValueScratchXYZNPP + var20 + this.aoLightValueScratchYZPP) / 4.0F;
+            var12 = (var20 + this.aoLightValueScratchYZPP + this.aoLightValueScratchXZPP + this.aoLightValueScratchXYZPPP) / 4.0F;
+            var11 = (this.aoLightValueScratchYZNP + var20 + this.aoLightValueScratchXYZPNP + this.aoLightValueScratchXZPP) / 4.0F;
+            var10 = (this.aoLightValueScratchXYZNNP + this.aoLightValueScratchXZNP + this.aoLightValueScratchYZNP + var20) / 4.0F;
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXZNP, this.aoBrightnessXYZNPP, this.aoBrightnessYZPP, var21);
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessYZPP, this.aoBrightnessXZPP, this.aoBrightnessXYZPPP, var21);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNP, this.aoBrightnessXYZPNP, this.aoBrightnessXZPP, var21);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYZNNP, this.aoBrightnessXZNP, this.aoBrightnessYZNP, var21);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.8F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.8F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.8F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            var22 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 3);
+            this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 3));
+
+            this.colorRedTopLeft *= par5;
+            this.colorRedBottomLeft *= par5;
+            this.colorRedBottomRight *= par5;
+            this.colorRedTopRight *= par5;
+            this.colorGreenTopLeft *= par6;
+            this.colorGreenBottomLeft *= par6;
+            this.colorGreenBottomRight *= par6;
+            this.colorGreenTopRight *= par6;
+            this.colorBlueTopLeft *= par7;
+            this.colorBlueBottomLeft *= par7;
+            this.colorBlueBottomRight *= par7;
+            this.colorBlueTopRight *= par7;
+            this.renderFaceZPos(par1Block, (double)par2, (double)par3, (double)par4, sideOverlayIcon );
+
+            var8 = true;
+        }
+
+        if ( par1Block.shouldSideBeRendered(this.blockAccess, par2 - 1, par3, par4, 4))
+        {
+            if (this.renderMinX <= 0.0D)
+            {
+                --par2;
+            }
+
+            this.aoLightValueScratchXYNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4);
+            this.aoLightValueScratchXZNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 - 1);
+            this.aoLightValueScratchXZNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 + 1);
+            this.aoLightValueScratchXYNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4);
+            this.aoBrightnessXYNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4);
+            this.aoBrightnessXZNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 - 1);
+            this.aoBrightnessXZNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 + 1);
+            this.aoBrightnessXYNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 - 1, par3 + 1, par4)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 - 1, par3 - 1, par4)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 - 1, par3, par4 - 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 - 1, par3, par4 + 1)];
+
+            if (!var19 && !var16)
+            {
+                this.aoLightValueScratchXYZNNN = this.aoLightValueScratchXZNN;
+                this.aoBrightnessXYZNNN = this.aoBrightnessXZNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4 - 1);
+                this.aoBrightnessXYZNNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4 - 1);
+            }
+
+            if (!var18 && !var16)
+            {
+                this.aoLightValueScratchXYZNNP = this.aoLightValueScratchXZNP;
+                this.aoBrightnessXYZNNP = this.aoBrightnessXZNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4 + 1);
+                this.aoBrightnessXYZNNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4 + 1);
+            }
+
+            if (!var19 && !var17)
+            {
+                this.aoLightValueScratchXYZNPN = this.aoLightValueScratchXZNN;
+                this.aoBrightnessXYZNPN = this.aoBrightnessXZNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4 - 1);
+                this.aoBrightnessXYZNPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4 - 1);
+            }
+
+            if (!var18 && !var17)
+            {
+                this.aoLightValueScratchXYZNPP = this.aoLightValueScratchXZNP;
+                this.aoBrightnessXYZNPP = this.aoBrightnessXZNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4 + 1);
+                this.aoBrightnessXYZNPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4 + 1);
+            }
+
+            if (this.renderMinX <= 0.0D)
+            {
+                ++par2;
+            }
+
+            var21 = var14;
+
+            if (this.renderMinX <= 0.0D || !this.blockAccess.isBlockOpaqueCube(par2 - 1, par3, par4))
+            {
+                var21 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 - 1, par3, par4);
+            }
+
+            var20 = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 - 1, par3, par4);
+            var12 = (this.aoLightValueScratchXYNN + this.aoLightValueScratchXYZNNP + var20 + this.aoLightValueScratchXZNP) / 4.0F;
+            var9 = (var20 + this.aoLightValueScratchXZNP + this.aoLightValueScratchXYNP + this.aoLightValueScratchXYZNPP) / 4.0F;
+            var10 = (this.aoLightValueScratchXZNN + var20 + this.aoLightValueScratchXYZNPN + this.aoLightValueScratchXYNP) / 4.0F;
+            var11 = (this.aoLightValueScratchXYZNNN + this.aoLightValueScratchXYNN + this.aoLightValueScratchXZNN + var20) / 4.0F;
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXYNN, this.aoBrightnessXYZNNP, this.aoBrightnessXZNP, var21);
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXZNP, this.aoBrightnessXYNP, this.aoBrightnessXYZNPP, var21);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXZNN, this.aoBrightnessXYZNPN, this.aoBrightnessXYNP, var21);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXYZNNN, this.aoBrightnessXYNN, this.aoBrightnessXZNN, var21);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.6F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.6F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.6F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            var22 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 4);
+            this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, var22);
+
+            this.colorRedTopLeft *= par5;
+            this.colorRedBottomLeft *= par5;
+            this.colorRedBottomRight *= par5;
+            this.colorRedTopRight *= par5;
+            this.colorGreenTopLeft *= par6;
+            this.colorGreenBottomLeft *= par6;
+            this.colorGreenBottomRight *= par6;
+            this.colorGreenTopRight *= par6;
+            this.colorBlueTopLeft *= par7;
+            this.colorBlueBottomLeft *= par7;
+            this.colorBlueBottomRight *= par7;
+            this.colorBlueTopRight *= par7;
+            this.renderFaceXNeg(par1Block, (double)par2, (double)par3, (double)par4, sideOverlayIcon);
+
+            var8 = true;
+        }
+
+        if ( par1Block.shouldSideBeRendered(this.blockAccess, par2 + 1, par3, par4, 5))
+        {
+            if (this.renderMaxX >= 1.0D)
+            {
+                ++par2;
+            }
+
+            this.aoLightValueScratchXYPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4);
+            this.aoLightValueScratchXZPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 - 1);
+            this.aoLightValueScratchXZPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3, par4 + 1);
+            this.aoLightValueScratchXYPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4);
+            this.aoBrightnessXYPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4);
+            this.aoBrightnessXZPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 - 1);
+            this.aoBrightnessXZPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3, par4 + 1);
+            this.aoBrightnessXYPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 + 1, par3 + 1, par4)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 + 1, par3 - 1, par4)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 + 1, par3, par4 + 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(par2 + 1, par3, par4 - 1)];
+
+            if (!var16 && !var18)
+            {
+                this.aoLightValueScratchXYZPNN = this.aoLightValueScratchXZPN;
+                this.aoBrightnessXYZPNN = this.aoBrightnessXZPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4 - 1);
+                this.aoBrightnessXYZPNN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4 - 1);
+            }
+
+            if (!var16 && !var19)
+            {
+                this.aoLightValueScratchXYZPNP = this.aoLightValueScratchXZPP;
+                this.aoBrightnessXYZPNP = this.aoBrightnessXZPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 - 1, par4 + 1);
+                this.aoBrightnessXYZPNP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 - 1, par4 + 1);
+            }
+
+            if (!var17 && !var18)
+            {
+                this.aoLightValueScratchXYZPPN = this.aoLightValueScratchXZPN;
+                this.aoBrightnessXYZPPN = this.aoBrightnessXZPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPN = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4 - 1);
+                this.aoBrightnessXYZPPN = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4 - 1);
+            }
+
+            if (!var17 && !var19)
+            {
+                this.aoLightValueScratchXYZPPP = this.aoLightValueScratchXZPP;
+                this.aoBrightnessXYZPPP = this.aoBrightnessXZPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPP = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2, par3 + 1, par4 + 1);
+                this.aoBrightnessXYZPPP = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2, par3 + 1, par4 + 1);
+            }
+
+            if (this.renderMaxX >= 1.0D)
+            {
+                --par2;
+            }
+
+            var21 = var14;
+
+            if (this.renderMaxX >= 1.0D || !this.blockAccess.isBlockOpaqueCube(par2 + 1, par3, par4))
+            {
+                var21 = par1Block.getMixedBrightnessForBlock(this.blockAccess, par2 + 1, par3, par4);
+            }
+
+            var20 = par1Block.getAmbientOcclusionLightValue(this.blockAccess, par2 + 1, par3, par4);
+            var9 = (this.aoLightValueScratchXYPN + this.aoLightValueScratchXYZPNP + var20 + this.aoLightValueScratchXZPP) / 4.0F;
+            var10 = (this.aoLightValueScratchXYZPNN + this.aoLightValueScratchXYPN + this.aoLightValueScratchXZPN + var20) / 4.0F;
+            var11 = (this.aoLightValueScratchXZPN + var20 + this.aoLightValueScratchXYZPPN + this.aoLightValueScratchXYPP) / 4.0F;
+            var12 = (var20 + this.aoLightValueScratchXZPP + this.aoLightValueScratchXYPP + this.aoLightValueScratchXYZPPP) / 4.0F;
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXYPN, this.aoBrightnessXYZPNP, this.aoBrightnessXZPP, var21);
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXZPP, this.aoBrightnessXYPP, this.aoBrightnessXYZPPP, var21);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXZPN, this.aoBrightnessXYZPPN, this.aoBrightnessXYPP, var21);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYZPNN, this.aoBrightnessXYPN, this.aoBrightnessXZPN, var21);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.6F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.6F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.6F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            var22 = this.getBlockIcon(par1Block, this.blockAccess, par2, par3, par4, 5);
+            this.renderFaceXPos(par1Block, (double)par2, (double)par3, (double)par4, var22);
+
+            this.colorRedTopLeft *= par5;
+            this.colorRedBottomLeft *= par5;
+            this.colorRedBottomRight *= par5;
+            this.colorRedTopRight *= par5;
+            this.colorGreenTopLeft *= par6;
+            this.colorGreenBottomLeft *= par6;
+            this.colorGreenBottomRight *= par6;
+            this.colorGreenTopRight *= par6;
+            this.colorBlueTopLeft *= par7;
+            this.colorBlueBottomLeft *= par7;
+            this.colorBlueBottomRight *= par7;
+            this.colorBlueTopRight *= par7;
+            this.renderFaceXPos(par1Block, (double)par2, (double)par3, (double)par4, sideOverlayIcon);
+
+            var8 = true;
+        }
+
+        this.enableAO = false;
+        return var8;
+    }
+    
+    public boolean renderGrassBlockWithColorMultiplier( Block grassBlock, int x, int y, int z, float red, float green, float blue, Icon sideOverlayIcon )
+    {
+        this.enableAO = false;
+        Tessellator tessellator = Tessellator.instance;
+        boolean renderSuccess = false;
+        float colorBottom = 0.5F;
+        float colorMultiplierTop = 1.0F;
+        float var12 = 0.8F;
+        float var13 = 0.6F;
+        float redTop = colorMultiplierTop * red;
+        float greenTop = colorMultiplierTop * green;
+        float blueTop = colorMultiplierTop * blue;
+        float redBottom = colorBottom;
+        float var18 = var12;
+        float var19 = var13;
+        float greenBottom = colorBottom;
+        float var21 = var12;
+        float var22 = var13;
+        float blueBottom = colorBottom;
+        float var24 = var12;
+        float var25 = var13;
+
+        int mixedBrightness = grassBlock.getMixedBrightnessForBlock(this.blockAccess, x, y, z);
+
+        if ( grassBlock.shouldSideBeRendered(this.blockAccess, x, y - 1, z, 0))
+        {
+            tessellator.setBrightness(this.renderMinY > 0.0D ? mixedBrightness : grassBlock.getMixedBrightnessForBlock(this.blockAccess, x, y - 1, z));
+            tessellator.setColorOpaque_F(redBottom, greenBottom, blueBottom);
+            this.renderFaceYNeg(grassBlock, (double)x, (double)y, (double)z, this.getBlockIcon(grassBlock, this.blockAccess, x, y, z, 0));
+            renderSuccess = true;
+        }
+
+        if ( grassBlock.shouldSideBeRendered(this.blockAccess, x, y + 1, z, 1))
+        {
+            tessellator.setBrightness(this.renderMaxY < 1.0D ? mixedBrightness : grassBlock.getMixedBrightnessForBlock(this.blockAccess, x, y + 1, z));
+            tessellator.setColorOpaque_F(redTop, greenTop, blueTop);
+            this.renderFaceYPos(grassBlock, (double)x, (double)y, (double)z, this.getBlockIcon(grassBlock, this.blockAccess, x, y, z, 1));
+            renderSuccess = true;
+        }
+
+        Icon blockIcon;
+        Icon grassTopIcon = this.getBlockIcon(grassBlock, this.blockAccess, x, y, z, 1);
+
+        if ( grassBlock.shouldSideBeRendered(this.blockAccess, x, y, z - 1, 2))
+        {
+            tessellator.setBrightness(this.renderMinZ > 0.0D ? mixedBrightness : grassBlock.getMixedBrightnessForBlock(this.blockAccess, x, y, z - 1));
+            blockIcon = this.getBlockIcon(grassBlock, this.blockAccess, x, y, z, 2);
+            
+            if (RenderBlocksUtils.enableBetterGrass && blockIcon == grassTopIcon) {
+                tessellator.setColorOpaque_F(var18 * red, var21 * green, var24 * blue);
+                this.renderFaceZNeg(grassBlock, (double)x, (double)y, (double)z, blockIcon);
+            }
+            else {
+                tessellator.setColorOpaque_F(var18, var21, var24);
+                this.renderFaceZNeg(grassBlock, (double)x, (double)y, (double)z, blockIcon);
+                
+                tessellator.setColorOpaque_F(var18 * red, var21 * green, var24 * blue);
+                this.renderFaceZNeg(grassBlock, (double)x, (double)y, (double)z, sideOverlayIcon);
+
+                renderSuccess = true;
+            }
+        }
+
+        if ( grassBlock.shouldSideBeRendered(this.blockAccess, x, y, z + 1, 3))
+        {
+            tessellator.setBrightness(this.renderMaxZ < 1.0D ? mixedBrightness : grassBlock.getMixedBrightnessForBlock(this.blockAccess, x, y, z + 1));
+            blockIcon = this.getBlockIcon(grassBlock, this.blockAccess, x, y, z, 3);
+            
+            if (RenderBlocksUtils.enableBetterGrass && blockIcon == grassTopIcon) {
+	            tessellator.setColorOpaque_F(var18 * red, var21 * green, var24 * blue);
+	            this.renderFaceZPos(grassBlock, (double)x, (double)y, (double)z, blockIcon);
+            }
+            else {
+	            tessellator.setColorOpaque_F(var18, var21, var24);
+	            this.renderFaceZPos(grassBlock, (double)x, (double)y, (double)z, blockIcon);
+	
+	            tessellator.setColorOpaque_F(var18 * red, var21 * green, var24 * blue);
+	            this.renderFaceZPos(grassBlock, (double)x, (double)y, (double)z, sideOverlayIcon);
+            }
+
+            renderSuccess = true;
+        }
+
+        if ( grassBlock.shouldSideBeRendered(this.blockAccess, x - 1, y, z, 4))
+        {
+            tessellator.setBrightness(this.renderMinX > 0.0D ? mixedBrightness : grassBlock.getMixedBrightnessForBlock(this.blockAccess, x - 1, y, z));
+            blockIcon = this.getBlockIcon(grassBlock, this.blockAccess, x, y, z, 4);
+            
+            if (RenderBlocksUtils.enableBetterGrass && blockIcon == grassTopIcon) {
+	            tessellator.setColorOpaque_F(var19 * red, var22 * green, var25 * blue);
+	            this.renderFaceXNeg(grassBlock, (double)x, (double)y, (double)z, blockIcon);
+            }
+            else {
+	            tessellator.setColorOpaque_F(var19, var22, var25);
+	            this.renderFaceXNeg(grassBlock, (double)x, (double)y, (double)z, blockIcon);
+	
+	            tessellator.setColorOpaque_F(var19 * red, var22 * green, var25 * blue);
+	            this.renderFaceXNeg(grassBlock, (double)x, (double)y, (double)z, sideOverlayIcon);
+            }
+
+            renderSuccess = true;
+        }
+
+        if (grassBlock.shouldSideBeRendered(this.blockAccess, x + 1, y, z, 5))
+        {
+            tessellator.setBrightness(this.renderMaxX < 1.0D ? mixedBrightness : grassBlock.getMixedBrightnessForBlock(this.blockAccess, x + 1, y, z));
+            blockIcon = this.getBlockIcon(grassBlock, this.blockAccess, x, y, z, 5);
+
+            if (RenderBlocksUtils.enableBetterGrass && blockIcon == grassTopIcon) {
+	            tessellator.setColorOpaque_F(var19 * red, var22 * green, var25 * blue);
+	            this.renderFaceXPos(grassBlock, (double)x, (double)y, (double)z, blockIcon);
+            }
+            else {
+	            tessellator.setColorOpaque_F(var19, var22, var25);
+	            this.renderFaceXPos(grassBlock, (double)x, (double)y, (double)z, blockIcon);
+	
+	            tessellator.setColorOpaque_F(var19 * red, var22 * green, var25 * blue);
+	            this.renderFaceXPos(grassBlock, (double)x, (double)y, (double)z, sideOverlayIcon);
+            }
+
+            renderSuccess = true;
+        }
+
+        return renderSuccess;
+    }
+    
+    public boolean renderBlockByRenderType( Block block, int i, int j, int k )
+    {
+    	block.m_currentBlockRenderer = this;
+    	
+    	boolean bReturnValue = block.RenderBlock( this, i, j, k );
+    	
+    	block.RenderBlockSecondPass( this, i, j, k, bReturnValue );
+    	
+    	return bReturnValue;
+    }
+    
+    public void renderBlockAsItem( Block block, int iItemDamage, float fBrightness )
+    {
+    	block.RenderBlockAsItem( this, iItemDamage, fBrightness ); 
+    }
+    
+    /**
+     * speed render of typical blocks
+     */	
+    public boolean RenderStandardFullBlock( Block block, int i, int j, int k )
+    {
+    	// set block bounds here to avoid unnecessary conditional checks in setRenderBounds()
+    	
+        renderMinX = renderMinY = renderMinZ = 0D;        	
+        renderMaxX = renderMaxY = renderMaxZ = 1D;
+        
+        partialRenderBounds = false;
+        
+    	if ( Minecraft.isAmbientOcclusionEnabled() )
+        {
+        	return RenderStandardFullBlockWithAmbientOcclusion( block, i, j, k );
+        }
+        else
+        {
+        	return RenderStandardFullBlockWithColorMultiplier( block, i, j, k );
+        }        
+    }
+    
+    public boolean RenderStandardFullBlockWithAmbientOcclusion( Block block, int i, int j, int k )
+    {
+        this.enableAO = true;
+        boolean bSideRendered = false;
+        
+        float var9;
+        float var10;
+        float var11;
+        float var12;
+        
+        // FCTODO: This appears to be unnecessary
+        //int iMixedBrightness = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k);
+        
+        Tessellator tesselator = Tessellator.instance;
+        tesselator.setBrightness( 983055 );
+
+        boolean var17;
+        boolean var16;
+        boolean var19;
+        boolean var18;
+        
+        int iFaceBrightness;
+        float var20;
+
+        if ( block.shouldSideBeRendered( blockAccess, i, j - 1, k, 0 ) )
+        {
+            --j;
+
+            this.aoBrightnessXYNN = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k);
+            this.aoBrightnessYZNN = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k - 1);
+            this.aoBrightnessYZNP = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k + 1);
+            this.aoBrightnessXYPN = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k);
+            
+            this.aoLightValueScratchXYNN = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k);
+            this.aoLightValueScratchYZNN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k - 1);
+            this.aoLightValueScratchYZNP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k + 1);
+            this.aoLightValueScratchXYPN = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k);
+            
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(i + 1, j - 1, k)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(i - 1, j - 1, k)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(i, j - 1, k + 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(i, j - 1, k - 1)];
+
+            if (!var18 && !var16)
+            {
+                this.aoLightValueScratchXYZNNN = this.aoLightValueScratchXYNN;
+                this.aoBrightnessXYZNNN = this.aoBrightnessXYNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNN = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k - 1);
+                this.aoBrightnessXYZNNN = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k - 1);
+            }
+
+            if (!var19 && !var16)
+            {
+                this.aoLightValueScratchXYZNNP = this.aoLightValueScratchXYNN;
+                this.aoBrightnessXYZNNP = this.aoBrightnessXYNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNP = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k + 1);
+                this.aoBrightnessXYZNNP = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k + 1);
+            }
+
+            if (!var18 && !var17)
+            {
+                this.aoLightValueScratchXYZPNN = this.aoLightValueScratchXYPN;
+                this.aoBrightnessXYZPNN = this.aoBrightnessXYPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNN = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k - 1);
+                this.aoBrightnessXYZPNN = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k - 1);
+            }
+
+            if (!var19 && !var17)
+            {
+                this.aoLightValueScratchXYZPNP = this.aoLightValueScratchXYPN;
+                this.aoBrightnessXYZPNP = this.aoBrightnessXYPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNP = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k + 1);
+                this.aoBrightnessXYZPNP = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k + 1);
+            }
+
+            ++j;
+
+            iFaceBrightness = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k);
+
+            var20 = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k);
+            
+            var9 = (this.aoLightValueScratchXYZNNP + this.aoLightValueScratchXYNN + this.aoLightValueScratchYZNP + var20) / 4.0F;
+            var12 = (this.aoLightValueScratchYZNP + var20 + this.aoLightValueScratchXYZPNP + this.aoLightValueScratchXYPN) / 4.0F;
+            var11 = (var20 + this.aoLightValueScratchYZNN + this.aoLightValueScratchXYPN + this.aoLightValueScratchXYZPNN) / 4.0F;
+            var10 = (this.aoLightValueScratchXYNN + this.aoLightValueScratchXYZNNN + var20 + this.aoLightValueScratchYZNN) / 4.0F;
+            
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXYZNNP, this.aoBrightnessXYNN, this.aoBrightnessYZNP, iFaceBrightness);
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessYZNP, this.aoBrightnessXYZPNP, this.aoBrightnessXYPN, iFaceBrightness);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNN, this.aoBrightnessXYPN, this.aoBrightnessXYZPNN, iFaceBrightness);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYNN, this.aoBrightnessXYZNNN, this.aoBrightnessYZNN, iFaceBrightness);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.5F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.5F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.5F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            
+            this.RenderFullBottomFace(block, (double)i, (double)j, (double)k, this.getBlockIcon(block, this.blockAccess, i, j, k, 0));
+            
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i, j + 1, k, 1 ) )
+        {
+            ++j;
+
+            this.aoBrightnessXYNP = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k);
+            this.aoBrightnessXYPP = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k);
+            this.aoBrightnessYZPN = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k - 1);
+            this.aoBrightnessYZPP = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k + 1);
+            
+            this.aoLightValueScratchXYNP = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k);
+            this.aoLightValueScratchXYPP = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k);
+            this.aoLightValueScratchYZPN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k - 1);
+            this.aoLightValueScratchYZPP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k + 1);
+            
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(i + 1, j + 1, k)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(i - 1, j + 1, k)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(i, j + 1, k + 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(i, j + 1, k - 1)];
+
+            if (!var18 && !var16)
+            {
+                this.aoLightValueScratchXYZNPN = this.aoLightValueScratchXYNP;
+                this.aoBrightnessXYZNPN = this.aoBrightnessXYNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPN = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k - 1);
+                this.aoBrightnessXYZNPN = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k - 1);
+            }
+
+            if (!var18 && !var17)
+            {
+                this.aoLightValueScratchXYZPPN = this.aoLightValueScratchXYPP;
+                this.aoBrightnessXYZPPN = this.aoBrightnessXYPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPN = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k - 1);
+                this.aoBrightnessXYZPPN = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k - 1);
+            }
+
+            if (!var19 && !var16)
+            {
+                this.aoLightValueScratchXYZNPP = this.aoLightValueScratchXYNP;
+                this.aoBrightnessXYZNPP = this.aoBrightnessXYNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPP = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k + 1);
+                this.aoBrightnessXYZNPP = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k + 1);
+            }
+
+            if (!var19 && !var17)
+            {
+                this.aoLightValueScratchXYZPPP = this.aoLightValueScratchXYPP;
+                this.aoBrightnessXYZPPP = this.aoBrightnessXYPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPP = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k + 1);
+                this.aoBrightnessXYZPPP = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k + 1);
+            }
+
+            --j;
+
+            iFaceBrightness = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k);
+
+            var20 = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k);
+            
+            var12 = (this.aoLightValueScratchXYZNPP + this.aoLightValueScratchXYNP + this.aoLightValueScratchYZPP + var20) / 4.0F;
+            var9 = (this.aoLightValueScratchYZPP + var20 + this.aoLightValueScratchXYZPPP + this.aoLightValueScratchXYPP) / 4.0F;
+            var10 = (var20 + this.aoLightValueScratchYZPN + this.aoLightValueScratchXYPP + this.aoLightValueScratchXYZPPN) / 4.0F;
+            var11 = (this.aoLightValueScratchXYNP + this.aoLightValueScratchXYZNPN + var20 + this.aoLightValueScratchYZPN) / 4.0F;
+            
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXYZNPP, this.aoBrightnessXYNP, this.aoBrightnessYZPP, iFaceBrightness);
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessYZPP, this.aoBrightnessXYZPPP, this.aoBrightnessXYPP, iFaceBrightness);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessYZPN, this.aoBrightnessXYPP, this.aoBrightnessXYZPPN, iFaceBrightness);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXYNP, this.aoBrightnessXYZNPN, this.aoBrightnessYZPN, iFaceBrightness);
+            
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 1F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 1F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 1F;
+            
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            
+            RenderFullTopFace(block, (double)i, (double)j, (double)k, this.getBlockIcon(block, this.blockAccess, i, j, k, 1));
+            
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i, j, k - 1, 2 ) )
+        {
+            --k;
+
+            this.aoLightValueScratchXZNN = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k);
+            this.aoLightValueScratchYZNN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k);
+            this.aoLightValueScratchYZPN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k);
+            this.aoLightValueScratchXZPN = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k);
+            this.aoBrightnessXZNN = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k);
+            this.aoBrightnessYZNN = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k);
+            this.aoBrightnessYZPN = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k);
+            this.aoBrightnessXZPN = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(i + 1, j, k - 1)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(i - 1, j, k - 1)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(i, j + 1, k - 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(i, j - 1, k - 1)];
+
+            if (!var16 && !var18)
+            {
+                this.aoLightValueScratchXYZNNN = this.aoLightValueScratchXZNN;
+                this.aoBrightnessXYZNNN = this.aoBrightnessXZNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNN = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j - 1, k);
+                this.aoBrightnessXYZNNN = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j - 1, k);
+            }
+
+            if (!var16 && !var19)
+            {
+                this.aoLightValueScratchXYZNPN = this.aoLightValueScratchXZNN;
+                this.aoBrightnessXYZNPN = this.aoBrightnessXZNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPN = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j + 1, k);
+                this.aoBrightnessXYZNPN = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j + 1, k);
+            }
+
+            if (!var17 && !var18)
+            {
+                this.aoLightValueScratchXYZPNN = this.aoLightValueScratchXZPN;
+                this.aoBrightnessXYZPNN = this.aoBrightnessXZPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNN = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j - 1, k);
+                this.aoBrightnessXYZPNN = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j - 1, k);
+            }
+
+            if (!var17 && !var19)
+            {
+                this.aoLightValueScratchXYZPPN = this.aoLightValueScratchXZPN;
+                this.aoBrightnessXYZPPN = this.aoBrightnessXZPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPN = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j + 1, k);
+                this.aoBrightnessXYZPPN = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j + 1, k);
+            }
+
+            ++k;
+
+            iFaceBrightness = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k - 1);
+
+            var20 = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k - 1);
+            var9 = (this.aoLightValueScratchXZNN + this.aoLightValueScratchXYZNPN + var20 + this.aoLightValueScratchYZPN) / 4.0F;
+            var10 = (var20 + this.aoLightValueScratchYZPN + this.aoLightValueScratchXZPN + this.aoLightValueScratchXYZPPN) / 4.0F;
+            var11 = (this.aoLightValueScratchYZNN + var20 + this.aoLightValueScratchXYZPNN + this.aoLightValueScratchXZPN) / 4.0F;
+            var12 = (this.aoLightValueScratchXYZNNN + this.aoLightValueScratchXZNN + this.aoLightValueScratchYZNN + var20) / 4.0F;
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXZNN, this.aoBrightnessXYZNPN, this.aoBrightnessYZPN, iFaceBrightness);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessYZPN, this.aoBrightnessXZPN, this.aoBrightnessXYZPPN, iFaceBrightness);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNN, this.aoBrightnessXYZPNN, this.aoBrightnessXZPN, iFaceBrightness);
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXYZNNN, this.aoBrightnessXZNN, this.aoBrightnessYZNN, iFaceBrightness);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.8F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.8F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.8F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            
+            RenderFullEastFace( block, (double)i, (double)j, (double)k, getBlockIcon(block, this.blockAccess, i, j, k, 2) );
+
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i, j, k + 1, 3 ) )
+        {
+            ++k;
+
+            this.aoLightValueScratchXZNP = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k);
+            this.aoLightValueScratchXZPP = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k);
+            this.aoLightValueScratchYZNP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k);
+            this.aoLightValueScratchYZPP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k);
+            this.aoBrightnessXZNP = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k);
+            this.aoBrightnessXZPP = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k);
+            this.aoBrightnessYZNP = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k);
+            this.aoBrightnessYZPP = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(i + 1, j, k + 1)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(i - 1, j, k + 1)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(i, j + 1, k + 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(i, j - 1, k + 1)];
+
+            if (!var16 && !var18)
+            {
+                this.aoLightValueScratchXYZNNP = this.aoLightValueScratchXZNP;
+                this.aoBrightnessXYZNNP = this.aoBrightnessXZNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNP = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j - 1, k);
+                this.aoBrightnessXYZNNP = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j - 1, k);
+            }
+
+            if (!var16 && !var19)
+            {
+                this.aoLightValueScratchXYZNPP = this.aoLightValueScratchXZNP;
+                this.aoBrightnessXYZNPP = this.aoBrightnessXZNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPP = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j + 1, k);
+                this.aoBrightnessXYZNPP = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j + 1, k);
+            }
+
+            if (!var17 && !var18)
+            {
+                this.aoLightValueScratchXYZPNP = this.aoLightValueScratchXZPP;
+                this.aoBrightnessXYZPNP = this.aoBrightnessXZPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNP = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j - 1, k);
+                this.aoBrightnessXYZPNP = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j - 1, k);
+            }
+
+            if (!var17 && !var19)
+            {
+                this.aoLightValueScratchXYZPPP = this.aoLightValueScratchXZPP;
+                this.aoBrightnessXYZPPP = this.aoBrightnessXZPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPP = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j + 1, k);
+                this.aoBrightnessXYZPPP = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j + 1, k);
+            }
+
+            --k;
+
+            iFaceBrightness = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k + 1);
+
+            var20 = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k + 1);
+            
+            var9 = (this.aoLightValueScratchXZNP + this.aoLightValueScratchXYZNPP + var20 + this.aoLightValueScratchYZPP) / 4.0F;
+            var12 = (var20 + this.aoLightValueScratchYZPP + this.aoLightValueScratchXZPP + this.aoLightValueScratchXYZPPP) / 4.0F;
+            var11 = (this.aoLightValueScratchYZNP + var20 + this.aoLightValueScratchXYZPNP + this.aoLightValueScratchXZPP) / 4.0F;
+            var10 = (this.aoLightValueScratchXYZNNP + this.aoLightValueScratchXZNP + this.aoLightValueScratchYZNP + var20) / 4.0F;
+            
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXZNP, this.aoBrightnessXYZNPP, this.aoBrightnessYZPP, iFaceBrightness);
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessYZPP, this.aoBrightnessXZPP, this.aoBrightnessXYZPPP, iFaceBrightness);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessYZNP, this.aoBrightnessXYZPNP, this.aoBrightnessXZPP, iFaceBrightness);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYZNNP, this.aoBrightnessXZNP, this.aoBrightnessYZNP, iFaceBrightness);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.8F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.8F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.8F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            
+            RenderFullWestFace(block, (double)i, (double)j, (double)k, this.getBlockIcon(block, this.blockAccess, i, j, k, 3));
+
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i - 1, j, k, 4 ) )
+        {
+            --i;
+
+            this.aoLightValueScratchXYNN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k);
+            this.aoLightValueScratchXZNN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k - 1);
+            this.aoLightValueScratchXZNP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k + 1);
+            this.aoLightValueScratchXYNP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k);
+            this.aoBrightnessXYNN = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k);
+            this.aoBrightnessXZNN = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k - 1);
+            this.aoBrightnessXZNP = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k + 1);
+            this.aoBrightnessXYNP = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(i - 1, j + 1, k)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(i - 1, j - 1, k)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(i - 1, j, k - 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(i - 1, j, k + 1)];
+
+            if (!var19 && !var16)
+            {
+                this.aoLightValueScratchXYZNNN = this.aoLightValueScratchXZNN;
+                this.aoBrightnessXYZNNN = this.aoBrightnessXZNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k - 1);
+                this.aoBrightnessXYZNNN = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k - 1);
+            }
+
+            if (!var18 && !var16)
+            {
+                this.aoLightValueScratchXYZNNP = this.aoLightValueScratchXZNP;
+                this.aoBrightnessXYZNNP = this.aoBrightnessXZNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNNP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k + 1);
+                this.aoBrightnessXYZNNP = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k + 1);
+            }
+
+            if (!var19 && !var17)
+            {
+                this.aoLightValueScratchXYZNPN = this.aoLightValueScratchXZNN;
+                this.aoBrightnessXYZNPN = this.aoBrightnessXZNN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k - 1);
+                this.aoBrightnessXYZNPN = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k - 1);
+            }
+
+            if (!var18 && !var17)
+            {
+                this.aoLightValueScratchXYZNPP = this.aoLightValueScratchXZNP;
+                this.aoBrightnessXYZNPP = this.aoBrightnessXZNP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZNPP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k + 1);
+                this.aoBrightnessXYZNPP = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k + 1);
+            }
+
+            ++i;
+
+            iFaceBrightness = block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k);
+
+            var20 = block.getAmbientOcclusionLightValue(this.blockAccess, i - 1, j, k);
+            
+            var12 = (this.aoLightValueScratchXYNN + this.aoLightValueScratchXYZNNP + var20 + this.aoLightValueScratchXZNP) / 4.0F;
+            var9 = (var20 + this.aoLightValueScratchXZNP + this.aoLightValueScratchXYNP + this.aoLightValueScratchXYZNPP) / 4.0F;
+            var10 = (this.aoLightValueScratchXZNN + var20 + this.aoLightValueScratchXYZNPN + this.aoLightValueScratchXYNP) / 4.0F;
+            var11 = (this.aoLightValueScratchXYZNNN + this.aoLightValueScratchXYNN + this.aoLightValueScratchXZNN + var20) / 4.0F;
+            
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXYNN, this.aoBrightnessXYZNNP, this.aoBrightnessXZNP, iFaceBrightness);
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXZNP, this.aoBrightnessXYNP, this.aoBrightnessXYZNPP, iFaceBrightness);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXZNN, this.aoBrightnessXYZNPN, this.aoBrightnessXYNP, iFaceBrightness);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXYZNNN, this.aoBrightnessXYNN, this.aoBrightnessXZNN, iFaceBrightness);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.6F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.6F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.6F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            
+            RenderFullNorthFace(block, (double)i, (double)j, (double)k, this.getBlockIcon(block, blockAccess, i, j, k, 4) );
+
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i + 1, j, k, 5 ) )
+        {
+            ++i;
+
+            this.aoLightValueScratchXYPN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k);
+            this.aoLightValueScratchXZPN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k - 1);
+            this.aoLightValueScratchXZPP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j, k + 1);
+            this.aoLightValueScratchXYPP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k);
+            this.aoBrightnessXYPN = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k);
+            this.aoBrightnessXZPN = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k - 1);
+            this.aoBrightnessXZPP = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k + 1);
+            this.aoBrightnessXYPP = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k);
+            var17 = Block.canBlockGrass[this.blockAccess.getBlockId(i + 1, j + 1, k)];
+            var16 = Block.canBlockGrass[this.blockAccess.getBlockId(i + 1, j - 1, k)];
+            var19 = Block.canBlockGrass[this.blockAccess.getBlockId(i + 1, j, k + 1)];
+            var18 = Block.canBlockGrass[this.blockAccess.getBlockId(i + 1, j, k - 1)];
+
+            if (!var16 && !var18)
+            {
+                this.aoLightValueScratchXYZPNN = this.aoLightValueScratchXZPN;
+                this.aoBrightnessXYZPNN = this.aoBrightnessXZPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k - 1);
+                this.aoBrightnessXYZPNN = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k - 1);
+            }
+
+            if (!var16 && !var19)
+            {
+                this.aoLightValueScratchXYZPNP = this.aoLightValueScratchXZPP;
+                this.aoBrightnessXYZPNP = this.aoBrightnessXZPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPNP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j - 1, k + 1);
+                this.aoBrightnessXYZPNP = block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k + 1);
+            }
+
+            if (!var17 && !var18)
+            {
+                this.aoLightValueScratchXYZPPN = this.aoLightValueScratchXZPN;
+                this.aoBrightnessXYZPPN = this.aoBrightnessXZPN;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPN = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k - 1);
+                this.aoBrightnessXYZPPN = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k - 1);
+            }
+
+            if (!var17 && !var19)
+            {
+                this.aoLightValueScratchXYZPPP = this.aoLightValueScratchXZPP;
+                this.aoBrightnessXYZPPP = this.aoBrightnessXZPP;
+            }
+            else
+            {
+                this.aoLightValueScratchXYZPPP = block.getAmbientOcclusionLightValue(this.blockAccess, i, j + 1, k + 1);
+                this.aoBrightnessXYZPPP = block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k + 1);
+            }
+
+            --i;
+
+            iFaceBrightness = block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k);
+
+            var20 = block.getAmbientOcclusionLightValue(this.blockAccess, i + 1, j, k);
+            var9 = (this.aoLightValueScratchXYPN + this.aoLightValueScratchXYZPNP + var20 + this.aoLightValueScratchXZPP) / 4.0F;
+            var10 = (this.aoLightValueScratchXYZPNN + this.aoLightValueScratchXYPN + this.aoLightValueScratchXZPN + var20) / 4.0F;
+            var11 = (this.aoLightValueScratchXZPN + var20 + this.aoLightValueScratchXYZPPN + this.aoLightValueScratchXYPP) / 4.0F;
+            var12 = (var20 + this.aoLightValueScratchXZPP + this.aoLightValueScratchXYPP + this.aoLightValueScratchXYZPPP) / 4.0F;
+            this.brightnessTopLeft = this.getAoBrightness(this.aoBrightnessXYPN, this.aoBrightnessXYZPNP, this.aoBrightnessXZPP, iFaceBrightness);
+            this.brightnessTopRight = this.getAoBrightness(this.aoBrightnessXZPP, this.aoBrightnessXYPP, this.aoBrightnessXYZPPP, iFaceBrightness);
+            this.brightnessBottomRight = this.getAoBrightness(this.aoBrightnessXZPN, this.aoBrightnessXYZPPN, this.aoBrightnessXYPP, iFaceBrightness);
+            this.brightnessBottomLeft = this.getAoBrightness(this.aoBrightnessXYZPNN, this.aoBrightnessXYPN, this.aoBrightnessXZPN, iFaceBrightness);
+
+            this.colorRedTopLeft = this.colorRedBottomLeft = this.colorRedBottomRight = this.colorRedTopRight = 0.6F;
+            this.colorGreenTopLeft = this.colorGreenBottomLeft = this.colorGreenBottomRight = this.colorGreenTopRight = 0.6F;
+            this.colorBlueTopLeft = this.colorBlueBottomLeft = this.colorBlueBottomRight = this.colorBlueTopRight = 0.6F;
+
+            this.colorRedTopLeft *= var9;
+            this.colorGreenTopLeft *= var9;
+            this.colorBlueTopLeft *= var9;
+            this.colorRedBottomLeft *= var10;
+            this.colorGreenBottomLeft *= var10;
+            this.colorBlueBottomLeft *= var10;
+            this.colorRedBottomRight *= var11;
+            this.colorGreenBottomRight *= var11;
+            this.colorBlueBottomRight *= var11;
+            this.colorRedTopRight *= var12;
+            this.colorGreenTopRight *= var12;
+            this.colorBlueTopRight *= var12;
+            
+            RenderFullSouthFace(block, (double)i, (double)j, (double)k, this.getBlockIcon(block, this.blockAccess, i, j, k, 5) );
+
+            bSideRendered = true;
+        }
+
+        enableAO = false;
+        
+        return bSideRendered;
+    }
+    
+    public boolean RenderStandardFullBlockWithColorMultiplier( Block block, int i, int j, int k )
+    {
+        this.enableAO = false;
+        Tessellator bTesselator = Tessellator.instance;
+        boolean bSideRendered = false;
+        
+        int iMixedBrightness = block.getMixedBrightnessForBlock(this.blockAccess, i, j, k);
+
+        if ( block.shouldSideBeRendered( blockAccess, i, j - 1, k, 0 ) )
+        {
+            bTesselator.setBrightness(this.renderMinY > 0.0D ? iMixedBrightness : block.getMixedBrightnessForBlock(this.blockAccess, i, j - 1, k));
+            
+            bTesselator.setColorOpaque_F( 0.5F, 0.5F, 0.5F );
+            
+            RenderFullBottomFace(block, (double)i, (double)j, (double)k, this.getBlockIcon(block, this.blockAccess, i, j, k, 0));
+            
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i, j + 1, k, 1 ) )
+        {
+            bTesselator.setBrightness(this.renderMaxY < 1.0D ? iMixedBrightness : block.getMixedBrightnessForBlock(this.blockAccess, i, j + 1, k));
+            
+            bTesselator.setColorOpaque_F( 1F, 1F, 1F );
+            
+            RenderFullTopFace(block, (double)i, (double)j, (double)k, this.getBlockIcon(block, this.blockAccess, i, j, k, 1));
+            
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i, j, k - 1, 2 ) )
+        {
+            bTesselator.setBrightness(this.renderMinZ > 0.0D ? iMixedBrightness : block.getMixedBrightnessForBlock(this.blockAccess, i, j, k - 1));
+            
+            bTesselator.setColorOpaque_F( 0.8F, 0.8F, 0.8F );
+            
+            RenderFullEastFace(block, (double)i, (double)j, (double)k, getBlockIcon(block, this.blockAccess, i, j, k, 2));
+
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i, j, k + 1, 3 ) )
+        {
+            bTesselator.setBrightness(this.renderMaxZ < 1.0D ? iMixedBrightness : block.getMixedBrightnessForBlock(this.blockAccess, i, j, k + 1));
+            bTesselator.setColorOpaque_F( 0.8F, 0.8F, 0.8F );
+            
+            RenderFullWestFace(block, (double)i, (double)j, (double)k, getBlockIcon(block, this.blockAccess, i, j, k, 3));
+
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i - 1, j, k, 4 ) )
+        {
+            bTesselator.setBrightness(this.renderMinX > 0.0D ? iMixedBrightness : block.getMixedBrightnessForBlock(this.blockAccess, i - 1, j, k));
+            bTesselator.setColorOpaque_F( 0.6F, 0.6F, 0.6F );
+            
+            RenderFullNorthFace(block, (double)i, (double)j, (double)k, getBlockIcon(block, this.blockAccess, i, j, k, 4));
+
+            bSideRendered = true;
+        }
+
+        if ( block.shouldSideBeRendered( blockAccess, i + 1, j, k, 5 ) )
+        {
+            bTesselator.setBrightness(this.renderMaxX < 1.0D ? iMixedBrightness : block.getMixedBrightnessForBlock(this.blockAccess, i + 1, j, k));
+            bTesselator.setColorOpaque_F( 0.6F, 0.6F, 0.6F );
+            
+            RenderFullSouthFace(block, (double)i, (double)j, (double)k, getBlockIcon(block, this.blockAccess, i, j, k, 5));
+
+            bSideRendered = true;
+        }
+
+        return bSideRendered;
+    }
+    
+    public void RenderFullBottomFace(Block par1Block, double par2, double par4, double par6, Icon par8Icon)
+    {
+        Tessellator var9 = Tessellator.instance;
+
+        double var10 = (double)par8Icon.getInterpolatedU(this.renderMinX * 16.0D);
+        double var12 = (double)par8Icon.getInterpolatedU(this.renderMaxX * 16.0D);
+        double var14 = (double)par8Icon.getInterpolatedV(this.renderMinZ * 16.0D);
+        double var16 = (double)par8Icon.getInterpolatedV(this.renderMaxZ * 16.0D);
+
+        double var18 = var12;
+        double var20 = var10;
+        double var22 = var14;
+        double var24 = var16;
+
+        double var26 = par2 + this.renderMinX;
+        double var28 = par2 + this.renderMaxX;
+        double var30 = par4 + this.renderMinY;
+        double var32 = par6 + this.renderMinZ;
+        double var34 = par6 + this.renderMaxZ;
+
+        if (this.enableAO)
+        {
+            var9.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            var9.setBrightness(this.brightnessTopLeft);
+            var9.addVertexWithUV(var26, var30, var34, var20, var24);
+            var9.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            var9.setBrightness(this.brightnessBottomLeft);
+            var9.addVertexWithUV(var26, var30, var32, var10, var14);
+            var9.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            var9.setBrightness(this.brightnessBottomRight);
+            var9.addVertexWithUV(var28, var30, var32, var18, var22);
+            var9.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            var9.setBrightness(this.brightnessTopRight);
+            var9.addVertexWithUV(var28, var30, var34, var12, var16);
+        }
+        else
+        {
+            var9.addVertexWithUV(var26, var30, var34, var20, var24);
+            var9.addVertexWithUV(var26, var30, var32, var10, var14);
+            var9.addVertexWithUV(var28, var30, var32, var18, var22);
+            var9.addVertexWithUV(var28, var30, var34, var12, var16);
+        }
+    }
+
+    public void RenderFullTopFace(Block par1Block, double par2, double par4, double par6, Icon par8Icon)
+    {
+        Tessellator var9 = Tessellator.instance;
+
+        double var10 = (double)par8Icon.getInterpolatedU(this.renderMinX * 16.0D);
+        double var12 = (double)par8Icon.getInterpolatedU(this.renderMaxX * 16.0D);
+        double var14 = (double)par8Icon.getInterpolatedV(this.renderMinZ * 16.0D);
+        double var16 = (double)par8Icon.getInterpolatedV(this.renderMaxZ * 16.0D);
+
+        double var18 = var12;
+        double var20 = var10;
+        double var22 = var14;
+        double var24 = var16;
+
+        double var26 = par2 + this.renderMinX;
+        double var28 = par2 + this.renderMaxX;
+        double var30 = par4 + this.renderMaxY;
+        double var32 = par6 + this.renderMinZ;
+        double var34 = par6 + this.renderMaxZ;
+
+        if (this.enableAO)
+        {
+            var9.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            var9.setBrightness(this.brightnessTopLeft);
+            var9.addVertexWithUV(var28, var30, var34, var12, var16);
+            var9.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            var9.setBrightness(this.brightnessBottomLeft);
+            var9.addVertexWithUV(var28, var30, var32, var18, var22);
+            var9.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            var9.setBrightness(this.brightnessBottomRight);
+            var9.addVertexWithUV(var26, var30, var32, var10, var14);
+            var9.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            var9.setBrightness(this.brightnessTopRight);
+            var9.addVertexWithUV(var26, var30, var34, var20, var24);
+        }
+        else
+        {
+            var9.addVertexWithUV(var28, var30, var34, var12, var16);
+            var9.addVertexWithUV(var28, var30, var32, var18, var22);
+            var9.addVertexWithUV(var26, var30, var32, var10, var14);
+            var9.addVertexWithUV(var26, var30, var34, var20, var24);
+        }
+    }
+
+    public void RenderFullEastFace(Block par1Block, double par2, double par4, double par6, Icon par8Icon)
+    {
+        Tessellator var9 = Tessellator.instance;
+
+        double var10 = (double)par8Icon.getInterpolatedU(this.renderMinX * 16.0D);
+        double var12 = (double)par8Icon.getInterpolatedU(this.renderMaxX * 16.0D);
+        double var14 = (double)par8Icon.getInterpolatedV(16.0D - this.renderMaxY * 16.0D);
+        double var16 = (double)par8Icon.getInterpolatedV(16.0D - this.renderMinY * 16.0D);
+        double var18;
+
+        var18 = var12;
+        double var20 = var10;
+        double var22 = var14;
+        double var24 = var16;
+
+        double var26 = par2 + this.renderMinX;
+        double var28 = par2 + this.renderMaxX;
+        double var30 = par4 + this.renderMinY;
+        double var32 = par4 + this.renderMaxY;
+        double var34 = par6 + this.renderMinZ;
+
+        if (this.enableAO)
+        {
+            var9.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            var9.setBrightness(this.brightnessTopLeft);
+            var9.addVertexWithUV(var26, var32, var34, var18, var22);
+            var9.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            var9.setBrightness(this.brightnessBottomLeft);
+            var9.addVertexWithUV(var28, var32, var34, var10, var14);
+            var9.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            var9.setBrightness(this.brightnessBottomRight);
+            var9.addVertexWithUV(var28, var30, var34, var20, var24);
+            var9.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            var9.setBrightness(this.brightnessTopRight);
+            var9.addVertexWithUV(var26, var30, var34, var12, var16);
+        }
+        else
+        {
+            var9.addVertexWithUV(var26, var32, var34, var18, var22);
+            var9.addVertexWithUV(var28, var32, var34, var10, var14);
+            var9.addVertexWithUV(var28, var30, var34, var20, var24);
+            var9.addVertexWithUV(var26, var30, var34, var12, var16);
+        }
+    }
+
+    public void RenderFullWestFace(Block par1Block, double par2, double par4, double par6, Icon par8Icon)
+    {
+        Tessellator var9 = Tessellator.instance;
+
+        double var10 = (double)par8Icon.getInterpolatedU(this.renderMinX * 16.0D);
+        double var12 = (double)par8Icon.getInterpolatedU(this.renderMaxX * 16.0D);
+        double var14 = (double)par8Icon.getInterpolatedV(16.0D - this.renderMaxY * 16.0D);
+        double var16 = (double)par8Icon.getInterpolatedV(16.0D - this.renderMinY * 16.0D);
+        double var18;
+
+        var18 = var12;
+        double var20 = var10;
+        double var22 = var14;
+        double var24 = var16;
+
+        double var26 = par2 + this.renderMinX;
+        double var28 = par2 + this.renderMaxX;
+        double var30 = par4 + this.renderMinY;
+        double var32 = par4 + this.renderMaxY;
+        double var34 = par6 + this.renderMaxZ;
+
+        if (this.enableAO)
+        {
+            var9.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            var9.setBrightness(this.brightnessTopLeft);
+            var9.addVertexWithUV(var26, var32, var34, var10, var14);
+            var9.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            var9.setBrightness(this.brightnessBottomLeft);
+            var9.addVertexWithUV(var26, var30, var34, var20, var24);
+            var9.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            var9.setBrightness(this.brightnessBottomRight);
+            var9.addVertexWithUV(var28, var30, var34, var12, var16);
+            var9.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            var9.setBrightness(this.brightnessTopRight);
+            var9.addVertexWithUV(var28, var32, var34, var18, var22);
+        }
+        else
+        {
+            var9.addVertexWithUV(var26, var32, var34, var10, var14);
+            var9.addVertexWithUV(var26, var30, var34, var20, var24);
+            var9.addVertexWithUV(var28, var30, var34, var12, var16);
+            var9.addVertexWithUV(var28, var32, var34, var18, var22);
+        }
+    }
+
+    /**
+     * Renders the given texture to the north (x-negative) face of the block.  Args: block, x, y, z, texture
+     */
+    public void RenderFullNorthFace(Block par1Block, double par2, double par4, double par6, Icon par8Icon)
+    {
+        Tessellator var9 = Tessellator.instance;
+
+        double var10 = (double)par8Icon.getInterpolatedU(this.renderMinZ * 16.0D);
+        double var12 = (double)par8Icon.getInterpolatedU(this.renderMaxZ * 16.0D);
+        double var14 = (double)par8Icon.getInterpolatedV(16.0D - this.renderMaxY * 16.0D);
+        double var16 = (double)par8Icon.getInterpolatedV(16.0D - this.renderMinY * 16.0D);
+        double var18;
+
+        var18 = var12;
+        double var20 = var10;
+        double var22 = var14;
+        double var24 = var16;
+
+        double var26 = par2 + this.renderMinX;
+        double var28 = par4 + this.renderMinY;
+        double var30 = par4 + this.renderMaxY;
+        double var32 = par6 + this.renderMinZ;
+        double var34 = par6 + this.renderMaxZ;
+
+        if (this.enableAO)
+        {
+            var9.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            var9.setBrightness(this.brightnessTopLeft);
+            var9.addVertexWithUV(var26, var30, var34, var18, var22);
+            var9.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            var9.setBrightness(this.brightnessBottomLeft);
+            var9.addVertexWithUV(var26, var30, var32, var10, var14);
+            var9.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            var9.setBrightness(this.brightnessBottomRight);
+            var9.addVertexWithUV(var26, var28, var32, var20, var24);
+            var9.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            var9.setBrightness(this.brightnessTopRight);
+            var9.addVertexWithUV(var26, var28, var34, var12, var16);
+        }
+        else
+        {
+            var9.addVertexWithUV(var26, var30, var34, var18, var22);
+            var9.addVertexWithUV(var26, var30, var32, var10, var14);
+            var9.addVertexWithUV(var26, var28, var32, var20, var24);
+            var9.addVertexWithUV(var26, var28, var34, var12, var16);
+        }
+    }
+
+    /**
+     * Renders the given texture to the south (x-positive) face of the block.  Args: block, x, y, z, texture
+     */
+    public void RenderFullSouthFace(Block par1Block, double par2, double par4, double par6, Icon par8Icon)
+    {
+        Tessellator var9 = Tessellator.instance;
+
+        double var10 = (double)par8Icon.getInterpolatedU(this.renderMinZ * 16.0D);
+        double var12 = (double)par8Icon.getInterpolatedU(this.renderMaxZ * 16.0D);
+        double var14 = (double)par8Icon.getInterpolatedV(16.0D - this.renderMaxY * 16.0D);
+        double var16 = (double)par8Icon.getInterpolatedV(16.0D - this.renderMinY * 16.0D);
+        double var18;
+
+        var18 = var12;
+        double var20 = var10;
+        double var22 = var14;
+        double var24 = var16;
+
+        double var26 = par2 + this.renderMaxX;
+        double var28 = par4 + this.renderMinY;
+        double var30 = par4 + this.renderMaxY;
+        double var32 = par6 + this.renderMinZ;
+        double var34 = par6 + this.renderMaxZ;
+
+        if (this.enableAO)
+        {
+            var9.setColorOpaque_F(this.colorRedTopLeft, this.colorGreenTopLeft, this.colorBlueTopLeft);
+            var9.setBrightness(this.brightnessTopLeft);
+            var9.addVertexWithUV(var26, var28, var34, var20, var24);
+            var9.setColorOpaque_F(this.colorRedBottomLeft, this.colorGreenBottomLeft, this.colorBlueBottomLeft);
+            var9.setBrightness(this.brightnessBottomLeft);
+            var9.addVertexWithUV(var26, var28, var32, var12, var16);
+            var9.setColorOpaque_F(this.colorRedBottomRight, this.colorGreenBottomRight, this.colorBlueBottomRight);
+            var9.setBrightness(this.brightnessBottomRight);
+            var9.addVertexWithUV(var26, var30, var32, var18, var22);
+            var9.setColorOpaque_F(this.colorRedTopRight, this.colorGreenTopRight, this.colorBlueTopRight);
+            var9.setBrightness(this.brightnessTopRight);
+            var9.addVertexWithUV(var26, var30, var34, var10, var14);
+        }
+        else
+        {
+            var9.addVertexWithUV(var26, var28, var34, var20, var24);
+            var9.addVertexWithUV(var26, var28, var32, var12, var16);
+            var9.addVertexWithUV(var26, var30, var32, var18, var22);
+            var9.addVertexWithUV(var26, var30, var34, var10, var14);
+        }
+    }
+    
+    public Icon GetOverrideTexture()
+    {
+    	return overrideBlockTexture;
+    }
+    
+    public void SetUvRotateEast( int iValue )
+    {
+    	uvRotateEast = iValue;
+    }
+    
+    public void SetUvRotateWest( int iValue )
+    {
+    	uvRotateWest = iValue;
+    }
+    
+    public void SetUvRotateSouth( int iValue )
+    {
+    	uvRotateSouth = iValue;
+    }
+    
+    public void SetUvRotateNorth( int iValue )
+    {
+    	uvRotateNorth = iValue;
+    }
+    
+    public void SetUvRotateTop( int iValue )
+    {
+    	uvRotateTop = iValue;
+    }
+    
+    public void SetUvRotateBottom( int iValue )
+    {
+    	uvRotateBottom = iValue;
+    }
+    
+    public void ClearUvRotation()
+    {
+		uvRotateEast = 0;
+		uvRotateWest = 0;
+		uvRotateSouth = 0;
+		uvRotateNorth = 0;
+		uvRotateTop = 0;
+		uvRotateBottom = 0;
+    }
+    
+    public boolean GetRenderAllFaces()
+    {
+    	return renderAllFaces;
+    }
+    
+    public void SetRenderAllFaces( boolean bValue )
+    {
+    	renderAllFaces = bValue;
+    }
+    
+    public boolean RenderBlockRedstoneLogic( BlockRedstoneLogic block, int i, int j, int k )
+    {
+    	return renderBlockRedstoneLogic( block, i, j, k );
+    }
+    
+    public boolean RenderBlockBeacon( BlockBeacon block, int i, int j, int k )
+    {
+    	return renderBlockBeacon( block, i, j, k );
+    }
+    
+    public boolean RenderBlockBed( Block block, int i, int j, int k )
+    {
+    	return renderBlockBed( block, i, j, k );    
+	}
+    
+    public boolean RenderBlockBrewingStand( BlockBrewingStand block, int i, int j, int k )
+    {
+    	return renderBlockBrewingStand( block, i, j, k);
+    }
+    
+    public boolean RenderBlockCocoa( BlockCocoa block, int i, int j, int k )
+    {
+    	return renderBlockCocoa( block, i, j, k );
+    }
+    
+    public boolean RenderBlockAnvil( BlockAnvil block, int i, int j, int k )
+    {
+    	return renderBlockAnvil( block, i, j, k);    
+	}
+    
+    public boolean RenderBlockEndPortalFrame( BlockEndPortalFrame block, int i, int j, int k )
+    {
+    	return renderBlockEndPortalFrame( block, i, j, k );
+    }
+    
+    public boolean RenderBlockFlowerpot( BlockFlowerPot block, int i, int j, int k )
+    {
+    	return renderBlockFlowerpot( block, i, j, k );
+    }
+    
+    public void setRenderBounds( AxisAlignedBB box )
+    {
+        if (!this.lockBlockBounds)
+        {
+            this.renderMinX = box.minX;
+            this.renderMaxX = box.maxX;
+            this.renderMinY = box.minY;
+            this.renderMaxY = box.maxY;
+            this.renderMinZ = box.minZ;
+            this.renderMaxZ = box.maxZ;
+            this.partialRenderBounds = this.minecraftRB.gameSettings.ambientOcclusion >= 2 && (this.renderMinX > 0.0D || this.renderMaxX < 1.0D || this.renderMinY > 0.0D || this.renderMaxY < 1.0D || this.renderMinZ > 0.0D || this.renderMaxZ < 1.0D);
+        }
+    }
+
+    /**
+     * Used for falling blocks, and those being moved by pistons
+     */
+    public void RenderStandardFallingBlock( Block block, int i, int j, int k, int iMetadata )
+    {
+    	enableAO = false;
+    	
+        Tessellator tess = Tessellator.instance;
+        
+        tess.setBrightness( block.getMixedBrightnessForBlock( blockAccess, i, j, k ) );
+        
+        final float fBottomColor = 0.5F;
+        final float fTopColor = 1F;
+        final float fZColor = 0.8F;
+        final float fXColor = 0.6F;
+        
+        int iColorMultiplier = block.colorMultiplier( blockAccess, i, j, k );
+        
+        float fRedMul = (float)( iColorMultiplier >> 16 & 255 ) / 255F;
+        float fGreenMul = (float)( iColorMultiplier >> 8 & 255 ) / 255F;
+        float fBlueMul = (float)( iColorMultiplier & 255 ) / 255F;
+        
+        if ( block.ShouldSideBeRenderedOnFallingBlock( 0, iMetadata ) )
+    	{
+	        tess.setColorOpaque_F( fBottomColor * fRedMul, fBottomColor * fGreenMul, fBottomColor * fBlueMul );
+	        
+	        renderFaceYNeg(block, (double)i, (double)j, (double)k, 
+	        	getBlockIconFromSideAndMetadata(block, 0, iMetadata));
+    	}
+        
+        if ( block.ShouldSideBeRenderedOnFallingBlock( 1, iMetadata ) )
+    	{
+	        tess.setColorOpaque_F( fTopColor * fRedMul, fTopColor * fGreenMul, fTopColor * fBlueMul );
+	        
+	        renderFaceYPos(block, (double)i, (double)j, (double)k, 
+	        	getBlockIconFromSideAndMetadata(block, 1, iMetadata));
+    	}
+        
+        if ( block.ShouldSideBeRenderedOnFallingBlock( 2, iMetadata ) )
+    	{
+	        tess.setColorOpaque_F( fZColor * fRedMul, fZColor * fGreenMul, fZColor * fBlueMul );
+	        
+	        renderFaceZNeg(block, (double)i, (double)j, (double)k, 
+	        	getBlockIconFromSideAndMetadata(block, 2, iMetadata));
+    	}
+        
+        if ( block.ShouldSideBeRenderedOnFallingBlock( 3, iMetadata ) )
+    	{
+	        tess.setColorOpaque_F( fZColor * fRedMul, fZColor * fGreenMul, fZColor * fBlueMul );
+	        
+	        renderFaceZPos(block, (double)i, (double)j, (double)k, 
+	        	getBlockIconFromSideAndMetadata(block, 3, iMetadata));
+    	}
+        
+        if ( block.ShouldSideBeRenderedOnFallingBlock( 4, iMetadata ) )
+    	{
+	        tess.setColorOpaque_F( fXColor * fRedMul, fXColor * fGreenMul, fXColor * fBlueMul );
+	        
+	        renderFaceXNeg(block, (double)i, (double)j, (double)k, 
+	        	getBlockIconFromSideAndMetadata(block, 4, iMetadata));
+    	}
+        
+        if ( block.ShouldSideBeRenderedOnFallingBlock( 5, iMetadata ) )
+    	{
+	        tess.setColorOpaque_F( fXColor * fRedMul, fXColor * fGreenMul, fXColor * fBlueMul );
+	        
+	        renderFaceXPos(block, (double)i, (double)j, (double)k, 
+	        	getBlockIconFromSideAndMetadata(block, 5, iMetadata));
+    	}
+    }
+    
+    protected void RenderStandardFullBlockMovedByPiston( Block block, int i, int j, int k )
+    {
+		// this is used when the block is being moved by a piston so that faces
+		// aren't occluded by nearby blocks with RenderStandardFullBlock(), since that function
+    	// strips out all the renderAllFaces tests
+    	
+    	SetRenderAllFaces( true );
+    	
+        setRenderBoundsFromBlock( block);
+        renderStandardBlock( block, i, j, k );
+        
+    	SetRenderAllFaces( false );
+    }
+    
+    public boolean ShouldSideBeRenderedBasedOnCurrentBounds( int iNeighborI, 
+    	int iNeighborJ, int iNeighborK, int iSide )
+    {
+    	if ( 
+    		( iSide == 0 && renderMinY > 0D ) ||
+    		( iSide == 1 && renderMaxY < 1D ) ||
+    		( iSide == 2 && renderMinZ > 0D ) ||
+    		( iSide == 3 && renderMaxZ < 1D ) ||
+    		( iSide == 4 && renderMinX > 0D ) ||
+    		( iSide == 5 && renderMaxX < 1D )  
+		)
+    	{
+    		return true;
+    	}
+    		
+        Block neighborBlock = Block.blocksList[blockAccess.getBlockId( 
+        	iNeighborI, iNeighborJ, iNeighborK )];
+        
+        if ( neighborBlock != null )
+        {
+        	return neighborBlock.ShouldRenderNeighborFullFaceSide( blockAccess, 
+        		iNeighborI, iNeighborJ, iNeighborK, iSide ); 
+        }
+        
+        return true;
+    }
+    // END FCMOD    
+}
